"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/projects/route";
exports.ids = ["app/api/projects/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("process");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "worker_threads":
/*!*********************************!*\
  !*** external "worker_threads" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("worker_threads");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("node:fs");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:http");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node:https");

/***/ }),

/***/ "node:net":
/*!***************************!*\
  !*** external "node:net" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:net");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:path");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("node:process");

/***/ }),

/***/ "node:stream":
/*!******************************!*\
  !*** external "node:stream" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:stream");

/***/ }),

/***/ "node:stream/web":
/*!**********************************!*\
  !*** external "node:stream/web" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("node:stream/web");

/***/ }),

/***/ "node:url":
/*!***************************!*\
  !*** external "node:url" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("node:url");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "node:zlib":
/*!****************************!*\
  !*** external "node:zlib" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2Froute&page=%2Fapi%2Fprojects%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2Froute.ts&appDir=C%3A%5CUsers%5Carunm%5CDownloads%5Cjudge-dashboard-nextjs-v29-judgePanelv1%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Carunm%5CDownloads%5Cjudge-dashboard-nextjs-v29-judgePanelv1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2Froute&page=%2Fapi%2Fprojects%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2Froute.ts&appDir=C%3A%5CUsers%5Carunm%5CDownloads%5Cjudge-dashboard-nextjs-v29-judgePanelv1%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Carunm%5CDownloads%5Cjudge-dashboard-nextjs-v29-judgePanelv1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_arunm_Downloads_judge_dashboard_nextjs_v29_judgePanelv1_app_api_projects_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/projects/route.ts */ \"(rsc)/./app/api/projects/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/projects/route\",\n        pathname: \"/api/projects\",\n        filename: \"route\",\n        bundlePath: \"app/api/projects/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\arunm\\\\Downloads\\\\judge-dashboard-nextjs-v29-judgePanelv1\\\\app\\\\api\\\\projects\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_arunm_Downloads_judge_dashboard_nextjs_v29_judgePanelv1_app_api_projects_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/projects/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwcm9qZWN0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJvamVjdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwcm9qZWN0cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNhcnVubSU1Q0Rvd25sb2FkcyU1Q2p1ZGdlLWRhc2hib2FyZC1uZXh0anMtdjI5LWp1ZGdlUGFuZWx2MSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDYXJ1bm0lNUNEb3dubG9hZHMlNUNqdWRnZS1kYXNoYm9hcmQtbmV4dGpzLXYyOS1qdWRnZVBhbmVsdjEmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2tEO0FBQy9IO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8/ZGI0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxhcnVubVxcXFxEb3dubG9hZHNcXFxcanVkZ2UtZGFzaGJvYXJkLW5leHRqcy12MjktanVkZ2VQYW5lbHYxXFxcXGFwcFxcXFxhcGlcXFxccHJvamVjdHNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Byb2plY3RzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHJvamVjdHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Byb2plY3RzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVXNlcnNcXFxcYXJ1bm1cXFxcRG93bmxvYWRzXFxcXGp1ZGdlLWRhc2hib2FyZC1uZXh0anMtdjI5LWp1ZGdlUGFuZWx2MVxcXFxhcHBcXFxcYXBpXFxcXHByb2plY3RzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9wcm9qZWN0cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2Froute&page=%2Fapi%2Fprojects%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2Froute.ts&appDir=C%3A%5CUsers%5Carunm%5CDownloads%5Cjudge-dashboard-nextjs-v29-judgePanelv1%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Carunm%5CDownloads%5Cjudge-dashboard-nextjs-v29-judgePanelv1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/projects/route.ts":
/*!***********************************!*\
  !*** ./app/api/projects/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_google_sheets__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/google-sheets */ \"(rsc)/./lib/google-sheets.ts\");\n\n\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const className = searchParams.get(\"class\");\n        if (!className) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Class parameter is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Initialize Google Sheets service\n        const sheetsService = new _lib_google_sheets__WEBPACK_IMPORTED_MODULE_1__.GoogleSheetsService();\n        try {\n            const projects = await sheetsService.getProjectIds(className);\n            const spreadsheetId = sheetsService.getSpreadsheetId(className);\n            const classConfig = sheetsService.getClassConfig(className);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                projects,\n                class: className,\n                spreadsheetId,\n                range: classConfig?.range,\n                source: \"BaseSheet\",\n                timestamp: new Date().toISOString()\n            });\n        } catch (sheetsError) {\n            console.error(\"Google Sheets API error:\", sheetsError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: `Failed to fetch projects for ${className}. Please check spreadsheet ID and permissions.`\n            }, {\n                status: 500\n            });\n        }\n    } catch (error) {\n        console.error(\"Projects API error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Server error while fetching projects\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3Byb2plY3RzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE0RDtBQUNIO0FBRWxELGVBQWVFLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRixNQUFNLEVBQUVDLFlBQVksRUFBRSxHQUFHLElBQUlDLElBQUlGLFFBQVFHLEdBQUc7UUFDNUMsTUFBTUMsWUFBWUgsYUFBYUksR0FBRyxDQUFDO1FBRW5DLElBQUksQ0FBQ0QsV0FBVztZQUNkLE9BQU9QLHFEQUFZQSxDQUFDUyxJQUFJLENBQUM7Z0JBQUVDLFNBQVM7Z0JBQU9DLE9BQU87WUFBOEIsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ25HO1FBRUEsbUNBQW1DO1FBQ25DLE1BQU1DLGdCQUFnQixJQUFJWixtRUFBbUJBO1FBRTdDLElBQUk7WUFDRixNQUFNYSxXQUFXLE1BQU1ELGNBQWNFLGFBQWEsQ0FBQ1I7WUFDbkQsTUFBTVMsZ0JBQWdCSCxjQUFjSSxnQkFBZ0IsQ0FBQ1Y7WUFDckQsTUFBTVcsY0FBY0wsY0FBY00sY0FBYyxDQUFDWjtZQUVqRCxPQUFPUCxxREFBWUEsQ0FBQ1MsSUFBSSxDQUFDO2dCQUN2QkMsU0FBUztnQkFDVEk7Z0JBQ0FNLE9BQU9iO2dCQUNQUztnQkFDQUssT0FBT0gsYUFBYUc7Z0JBQ3BCQyxRQUFRO2dCQUNSQyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7WUFDbkM7UUFDRixFQUFFLE9BQU9DLGFBQWE7WUFDcEJDLFFBQVFoQixLQUFLLENBQUMsNEJBQTRCZTtZQUMxQyxPQUFPMUIscURBQVlBLENBQUNTLElBQUksQ0FDdEI7Z0JBQ0VDLFNBQVM7Z0JBQ1RDLE9BQU8sQ0FBQyw2QkFBNkIsRUFBRUosVUFBVSw4Q0FBOEMsQ0FBQztZQUNsRyxHQUNBO2dCQUFFSyxRQUFRO1lBQUk7UUFFbEI7SUFDRixFQUFFLE9BQU9ELE9BQU87UUFDZGdCLFFBQVFoQixLQUFLLENBQUMsdUJBQXVCQTtRQUNyQyxPQUFPWCxxREFBWUEsQ0FBQ1MsSUFBSSxDQUN0QjtZQUNFQyxTQUFTO1lBQ1RDLE9BQU87UUFDVCxHQUNBO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL2FwcC9hcGkvcHJvamVjdHMvcm91dGUudHM/NDU0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB0eXBlIE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIlxuaW1wb3J0IHsgR29vZ2xlU2hlZXRzU2VydmljZSB9IGZyb20gXCJAL2xpYi9nb29nbGUtc2hlZXRzXCJcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuICAgIGNvbnN0IGNsYXNzTmFtZSA9IHNlYXJjaFBhcmFtcy5nZXQoXCJjbGFzc1wiKVxuXG4gICAgaWYgKCFjbGFzc05hbWUpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJDbGFzcyBwYXJhbWV0ZXIgaXMgcmVxdWlyZWRcIiB9LCB7IHN0YXR1czogNDAwIH0pXG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGl6ZSBHb29nbGUgU2hlZXRzIHNlcnZpY2VcbiAgICBjb25zdCBzaGVldHNTZXJ2aWNlID0gbmV3IEdvb2dsZVNoZWV0c1NlcnZpY2UoKVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHByb2plY3RzID0gYXdhaXQgc2hlZXRzU2VydmljZS5nZXRQcm9qZWN0SWRzKGNsYXNzTmFtZSlcbiAgICAgIGNvbnN0IHNwcmVhZHNoZWV0SWQgPSBzaGVldHNTZXJ2aWNlLmdldFNwcmVhZHNoZWV0SWQoY2xhc3NOYW1lKVxuICAgICAgY29uc3QgY2xhc3NDb25maWcgPSBzaGVldHNTZXJ2aWNlLmdldENsYXNzQ29uZmlnKGNsYXNzTmFtZSlcblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgcHJvamVjdHMsXG4gICAgICAgIGNsYXNzOiBjbGFzc05hbWUsXG4gICAgICAgIHNwcmVhZHNoZWV0SWQsXG4gICAgICAgIHJhbmdlOiBjbGFzc0NvbmZpZz8ucmFuZ2UsXG4gICAgICAgIHNvdXJjZTogXCJCYXNlU2hlZXRcIixcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKHNoZWV0c0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiR29vZ2xlIFNoZWV0cyBBUEkgZXJyb3I6XCIsIHNoZWV0c0Vycm9yKVxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IGBGYWlsZWQgdG8gZmV0Y2ggcHJvamVjdHMgZm9yICR7Y2xhc3NOYW1lfS4gUGxlYXNlIGNoZWNrIHNwcmVhZHNoZWV0IElEIGFuZCBwZXJtaXNzaW9ucy5gLFxuICAgICAgICB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH0sXG4gICAgICApXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJQcm9qZWN0cyBBUEkgZXJyb3I6XCIsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiBcIlNlcnZlciBlcnJvciB3aGlsZSBmZXRjaGluZyBwcm9qZWN0c1wiLFxuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfSxcbiAgICApXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJHb29nbGVTaGVldHNTZXJ2aWNlIiwiR0VUIiwicmVxdWVzdCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImNsYXNzTmFtZSIsImdldCIsImpzb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJzdGF0dXMiLCJzaGVldHNTZXJ2aWNlIiwicHJvamVjdHMiLCJnZXRQcm9qZWN0SWRzIiwic3ByZWFkc2hlZXRJZCIsImdldFNwcmVhZHNoZWV0SWQiLCJjbGFzc0NvbmZpZyIsImdldENsYXNzQ29uZmlnIiwiY2xhc3MiLCJyYW5nZSIsInNvdXJjZSIsInRpbWVzdGFtcCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInNoZWV0c0Vycm9yIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/projects/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/google-sheets.ts":
/*!******************************!*\
  !*** ./lib/google-sheets.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GOOGLE_SHEETS_CONFIG: () => (/* binding */ GOOGLE_SHEETS_CONFIG),\n/* harmony export */   GoogleSheetsService: () => (/* binding */ GoogleSheetsService),\n/* harmony export */   SPREADSHEET_CONFIG: () => (/* binding */ SPREADSHEET_CONFIG),\n/* harmony export */   googleSheetsService: () => (/* binding */ googleSheetsService)\n/* harmony export */ });\n/* harmony import */ var google_auth_library__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! google-auth-library */ \"(rsc)/./node_modules/google-auth-library/build/src/index.js\");\n/* harmony import */ var googleapis__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! googleapis */ \"(rsc)/./node_modules/googleapis/build/src/index.js\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\nconst CLASS_SHEET_IDS_PATH = path__WEBPACK_IMPORTED_MODULE_2__.resolve(process.cwd(), \"config/class-sheet-ids.json\");\nfunction loadClassSheetIds() {\n    try {\n        const raw = fs__WEBPACK_IMPORTED_MODULE_1__.readFileSync(CLASS_SHEET_IDS_PATH, \"utf-8\");\n        return JSON.parse(raw);\n    } catch  {\n        return {};\n    }\n}\nfunction saveClassSheetIds(ids) {\n    fs__WEBPACK_IMPORTED_MODULE_1__.writeFileSync(CLASS_SHEET_IDS_PATH, JSON.stringify(ids, null, 2), \"utf-8\");\n}\n// Configuration for Google Sheets API\nconst GOOGLE_SHEETS_CONFIG = {\n    serviceAccountKeyPath: process.env.GOOGLE_SERVICE_ACCOUNT_KEY_PATH || \"./config/service-account-key.json\",\n    scopes: [\n        \"https://www.googleapis.com/auth/spreadsheets\"\n    ]\n};\n// Spreadsheet configurations - changed to 'let' to allow dynamic updates for demonstration\nconst persistedIds = loadClassSheetIds();\nlet SPREADSHEET_CONFIG = {\n    CREDENTIALS: {\n        id: process.env.CREDENTIALS_SPREADSHEET_ID || \"1snk-FZaxyZbSu_Ww-oPnam8JxZ2RLg3etI5TBkr-T1A\",\n        range: \"Sheet1!A:C\"\n    },\n    ADMIN_MASTER: {\n        id: process.env.ADMIN_MASTER_SPREADSHEET_ID || \"1snk-FZaxyZbSu_Ww-oPnam8JxZ2RLg3etI5TBkr-T1A\"\n    },\n    CLASSES: {\n        \"Class 4\": {\n            id: persistedIds[\"Class 4\"],\n            baseSheet: \"BaseSheet\",\n            range: \"Sheet1!A:F\"\n        },\n        \"Class 5\": {\n            id: persistedIds[\"Class 5\"],\n            baseSheet: \"BaseSheet\",\n            range: \"Sheet1!A:F\"\n        },\n        \"Class 6\": {\n            id: persistedIds[\"Class 6\"],\n            baseSheet: \"BaseSheet\",\n            range: \"Sheet1!A:F\"\n        },\n        \"Class 7\": {\n            id: persistedIds[\"Class 7\"],\n            baseSheet: \"BaseSheet\",\n            range: \"Sheet1!A:F\"\n        },\n        \"Class 8\": {\n            id: persistedIds[\"Class 8\"],\n            baseSheet: \"BaseSheet\",\n            range: \"Sheet1!A:F\"\n        },\n        \"Class 9\": {\n            id: persistedIds[\"Class 9\"],\n            baseSheet: \"BaseSheet\",\n            range: \"Sheet1!A:F\"\n        },\n        \"Class 10\": {\n            id: persistedIds[\"Class 10\"],\n            baseSheet: \"BaseSheet\",\n            range: \"Sheet1!A:F\"\n        },\n        \"Class 11\": {\n            id: persistedIds[\"Class 11\"],\n            baseSheet: \"BaseSheet\",\n            range: \"Sheet1!A:F\"\n        },\n        \"Class 12\": {\n            id: persistedIds[\"Class 12\"],\n            baseSheet: \"BaseSheet\",\n            range: \"Sheet1!A:F\"\n        }\n    }\n};\nclass GoogleSheetsService {\n    constructor(){\n        // Handle both file path and base64 encoded key for deployment\n        if (process.env.GOOGLE_SERVICE_ACCOUNT_KEY_BASE64) {\n            const keyData = Buffer.from(process.env.GOOGLE_SERVICE_ACCOUNT_KEY_BASE64, \"base64\").toString(\"utf8\");\n            const keyPath = \"/tmp/service-account-key.json\" // Vercel /tmp directory is writable\n            ;\n            fs__WEBPACK_IMPORTED_MODULE_1__.writeFileSync(keyPath, keyData);\n            this.auth = new google_auth_library__WEBPACK_IMPORTED_MODULE_0__.GoogleAuth({\n                keyFile: keyPath,\n                scopes: GOOGLE_SHEETS_CONFIG.scopes\n            });\n        } else {\n            this.auth = new google_auth_library__WEBPACK_IMPORTED_MODULE_0__.GoogleAuth({\n                keyFile: GOOGLE_SHEETS_CONFIG.serviceAccountKeyPath,\n                scopes: GOOGLE_SHEETS_CONFIG.scopes\n            });\n        }\n        this.sheets = googleapis__WEBPACK_IMPORTED_MODULE_3__.google.sheets({\n            version: \"v4\",\n            auth: this.auth\n        });\n    }\n    async getSheetData(spreadsheetId, range) {\n        try {\n            console.log(`🔗 Fetching data from Google Sheets: ${spreadsheetId}, Range: ${range}`);\n            const response = await this.sheets.spreadsheets.values.get({\n                spreadsheetId,\n                range\n            });\n            return {\n                values: response.data.values || [],\n                range,\n                spreadsheetId\n            };\n        } catch (error) {\n            console.error(\"Error fetching sheet data:\", error);\n            throw new Error(`Failed to fetch data from spreadsheet ${spreadsheetId}. Please check permissions and spreadsheet ID.`);\n        }\n    }\n    async batchGetSheetData(spreadsheetId, ranges) {\n        try {\n            const response = await this.sheets.spreadsheets.values.batchGet({\n                spreadsheetId,\n                ranges\n            });\n            const result = {};\n            (response.data.valueRanges || []).forEach((valueRange)=>{\n                result[valueRange.range] = valueRange.values || [];\n            });\n            return result;\n        } catch (error) {\n            console.error(\"Error in batchGetSheetData:\", error);\n            throw new Error(`Failed to batch get data from spreadsheet ${spreadsheetId}.`);\n        }\n    }\n    async getCredentials() {\n        try {\n            const data = await this.getSheetData(SPREADSHEET_CONFIG.CREDENTIALS.id, SPREADSHEET_CONFIG.CREDENTIALS.range);\n            if (!data.values || data.values.length === 0) {\n                throw new Error(\"No credentials found in the spreadsheet\");\n            }\n            // Skip header row and map to credential objects\n            return data.values.slice(1).map((row)=>({\n                    username: row[0] || \"\",\n                    password: row[1] || \"\",\n                    role: row[2] || \"\"\n                })).filter((cred)=>cred.username && cred.password && cred.role);\n        } catch (error) {\n            console.error(\"Error fetching credentials:\", error);\n            throw new Error(\"Failed to fetch credentials from Google Sheets\");\n        }\n    }\n    async getProjectIds(className) {\n        try {\n            const classConfig = this.getClassConfig(className);\n            if (!classConfig) {\n                throw new Error(`No configuration found for class: ${className}`);\n            }\n            const data = await this.getSheetData(classConfig.id, classConfig.range);\n            if (!data.values || data.values.length === 0) {\n                return [];\n            }\n            // Skip header row and extract Project IDs from column E (index 4)\n            const projectIds = data.values.slice(1) // Skip header row\n            .map((row)=>row[4]) // Column E (Project ID) is at index 4\n            .filter((id)=>id && id.trim() !== \"\") // Remove empty cells\n            .map((id)=>id.trim()) // Clean whitespace\n            ;\n            // Return unique project IDs only\n            return [\n                ...new Set(projectIds)\n            ];\n        } catch (error) {\n            console.error(`Error fetching project IDs for ${className}:`, error);\n            throw new Error(`Failed to fetch project IDs for ${className} from Google Sheets`);\n        }\n    }\n    async getStudentsByProjectId(className, projectId) {\n        try {\n            const classConfig = this.getClassConfig(className);\n            if (!classConfig) {\n                throw new Error(`No configuration found for class: ${className}`);\n            }\n            const data = await this.getSheetData(classConfig.id, classConfig.range);\n            if (!data.values || data.values.length === 0) {\n                return [];\n            }\n            // Skip header row and filter by Project ID\n            const students = data.values.slice(1) // Skip header row\n            .filter((row)=>row[4] && row[4].trim() === projectId.trim()) // Filter by Project ID\n            .map((row)=>({\n                    sno: row[0] || \"\",\n                    studentName: row[1] || \"\",\n                    grade: row[2] || \"\",\n                    projectTitle: row[3] || \"\",\n                    projectId: row[4] || \"\",\n                    theme: row[5] || \"\"\n                })).filter((student)=>student.studentName && student.projectId);\n            return students;\n        } catch (error) {\n            console.error(`Error fetching students for project ${projectId}:`, error);\n            throw new Error(`Failed to fetch students for project ${projectId} from Google Sheets`);\n        }\n    }\n    async getJudgeScores(className, judgeName, projectId) {\n        try {\n            const classConfig = this.getClassConfig(className);\n            if (!classConfig) {\n                throw new Error(`No configuration found for class: ${className}`);\n            }\n            const judgeSheetName = `Judge_${judgeName}`;\n            const judgeRange = `${judgeSheetName}!A:K` // Updated range to include Theme Fit (assuming column K)\n            ;\n            try {\n                const data = await this.getSheetData(classConfig.id, judgeRange);\n                if (!data.values || data.values.length === 0) {\n                    return [];\n                }\n                // Skip header row and optionally filter by Project ID\n                let scores = data.values.slice(1) // Skip header row\n                .map((row)=>({\n                        sno: row[0] || \"\",\n                        studentName: row[1] || \"\",\n                        grade: row[2] || \"\",\n                        projectTitle: row[3] || \"\",\n                        projectId: row[4] || \"\",\n                        creativity: row[5] ? Number.parseFloat(row[5]) : null,\n                        scientificThought: row[6] ? Number.parseFloat(row[6]) : null,\n                        technicalSkills: row[7] ? Number.parseFloat(row[7]) : null,\n                        presentation: row[8] ? Number.parseFloat(row[8]) : null,\n                        status: row[9] || \"Present\",\n                        themeFit: row[10] || null\n                    }));\n                console.log(`🔗 Fetched ${scores.length} scores from ${judgeSheetName} for class ${className}`);\n                // Filter by project ID if specified\n                if (projectId) {\n                    scores = scores.filter((score)=>score.projectId.trim() === projectId.trim());\n                }\n                return scores;\n            } catch (error) {\n                // Judge sheet doesn't exist yet or is empty, which is fine for initial fetch\n                console.log(`Judge sheet ${judgeSheetName} doesn't exist yet or is empty.`);\n                return [];\n            }\n        } catch (error) {\n            console.error(`Error fetching judge scores:`, error);\n            throw new Error(`Failed to fetch judge scores from Google Sheets`);\n        }\n    }\n    async saveJudgeScores(className, judgeName, scores) {\n        try {\n            const classConfig = this.getClassConfig(className);\n            if (!classConfig) {\n                throw new Error(`No configuration found for class: ${className}`);\n            }\n            const judgeSheetName = `Judge_${judgeName}`;\n            const judgeHeaderRow = [\n                \"S.No.\",\n                \"Name of the Student\",\n                \"Grade\",\n                \"Project Title\",\n                \"Project ID\",\n                \"Creativity & Imagination\",\n                \"Scientific Thought\",\n                \"Technical Skills\",\n                \"Presentation\",\n                \"Status\",\n                \"Theme Fit\"\n            ];\n            // Ensure judge sheet exists and has header\n            await this.ensureSheetExists(classConfig.id, judgeSheetName, judgeHeaderRow);\n            // Prepare new score rows for appending\n            const newRows = scores.map((score)=>[\n                    score.sno,\n                    score.studentName,\n                    score.grade,\n                    score.projectTitle,\n                    score.projectId,\n                    score.creativity?.toString() || \"\",\n                    score.scientificThought?.toString() || \"\",\n                    score.technicalSkills?.toString() || \"\",\n                    score.presentation?.toString() || \"\",\n                    score.status || \"Present\",\n                    score.themeFit || \"\"\n                ]);\n            // Append new scores (never overwrite)\n            await this.sheets.spreadsheets.values.append({\n                spreadsheetId: classConfig.id,\n                range: `${judgeSheetName}!A:K`,\n                valueInputOption: \"USER_ENTERED\",\n                resource: {\n                    values: newRows\n                }\n            });\n            console.log(`✅ Appended ${newRows.length} new score rows to ${judgeSheetName}`);\n        } catch (error) {\n            console.error(`Error appending judge scores:`, error);\n            throw new Error(`Failed to append judge scores to Google Sheets`);\n        }\n    }\n    async getExistingJudgeData(spreadsheetId, sheetName) {\n        try {\n            const response = await this.sheets.spreadsheets.values.get({\n                spreadsheetId,\n                range: `${sheetName}!A:K`\n            });\n            return response.data.values || [];\n        } catch (error) {\n            // Sheet doesn't exist or is empty\n            return [];\n        }\n    }\n    async ensureSheetExists(spreadsheetId, sheetName, headerRow) {\n        try {\n            const spreadsheet = await this.sheets.spreadsheets.get({\n                spreadsheetId: spreadsheetId,\n                fields: \"sheets.properties.title,sheets.properties.sheetId\"\n            });\n            const sheetExists = spreadsheet.data.sheets?.some((sheet)=>sheet.properties.title === sheetName);\n            if (!sheetExists) {\n                await this.sheets.spreadsheets.batchUpdate({\n                    spreadsheetId: spreadsheetId,\n                    resource: {\n                        requests: [\n                            {\n                                addSheet: {\n                                    properties: {\n                                        title: sheetName\n                                    }\n                                }\n                            }\n                        ]\n                    }\n                });\n                console.log(`✅ Created new sheet: ${sheetName} in spreadsheet ${spreadsheetId}`);\n                // If header row is provided, write it\n                if (headerRow && headerRow.length > 0) {\n                    await this.sheets.spreadsheets.values.append({\n                        spreadsheetId: spreadsheetId,\n                        range: `${sheetName}!A1`,\n                        valueInputOption: \"USER_ENTERED\",\n                        resource: {\n                            values: [\n                                headerRow\n                            ]\n                        }\n                    });\n                    console.log(`✅ Added header to new sheet: ${sheetName}`);\n                }\n            }\n        } catch (error) {\n            console.error(`Error ensuring sheet ${sheetName} exists in ${spreadsheetId}:`, error);\n            throw new Error(`Failed to create or verify sheet: ${sheetName}`);\n        }\n    }\n    async getAllSheetTitles(spreadsheetId) {\n        try {\n            const response = await this.sheets.spreadsheets.get({\n                spreadsheetId: spreadsheetId,\n                fields: \"sheets.properties.title\"\n            });\n            return response.data.sheets?.map((sheet)=>sheet.properties.title) || [];\n        } catch (error) {\n            console.error(`Error fetching sheet titles for ${spreadsheetId}:`, error);\n            throw new Error(`Failed to fetch sheet titles for spreadsheet ${spreadsheetId}.`);\n        }\n    }\n    async getAllJudgeSheetNames(classSpreadsheetId) {\n        const allSheetTitles = await this.getAllSheetTitles(classSpreadsheetId);\n        return allSheetTitles.filter((title)=>title.startsWith(\"Judge_\"));\n    }\n    async getProjectDetailsMap(className) {\n        const classConfig = this.getClassConfig(className);\n        if (!classConfig) {\n            throw new Error(`No configuration found for class: ${className}`);\n        }\n        const data = await this.getSheetData(classConfig.id, classConfig.range) // Reads Sheet1!A:F\n        ;\n        const projectMap = new Map();\n        if (data.values && data.values.length > 1) {\n            // Skip header\n            data.values.slice(1).forEach((row)=>{\n                const projectId = row[4]?.trim() // Column E\n                ;\n                const projectTitle = row[3]?.trim() // Column D\n                ;\n                const theme = row[5]?.trim() // Column F\n                ;\n                const studentName = row[1]?.trim() // Column B\n                ;\n                if (projectId) {\n                    if (!projectMap.has(projectId)) {\n                        projectMap.set(projectId, {\n                            title: projectTitle || \"\",\n                            theme: theme || \"\",\n                            studentNames: new Set()\n                        });\n                    }\n                    if (studentName) {\n                        projectMap.get(projectId)?.studentNames.add(studentName);\n                    }\n                }\n            });\n        }\n        return projectMap;\n    }\n    async processClassScores(className) {\n        const classConfig = this.getClassConfig(className);\n        if (!classConfig) {\n            throw new Error(`No configuration found for class: ${className}`);\n        }\n        const classSpreadsheetId = classConfig.id;\n        const projectDetailsMap = await this.getProjectDetailsMap(className);\n        console.log(`[${className}] Found ${projectDetailsMap.size} unique projects from BaseSheet.`);\n        const judgeSheetNames = await this.getAllJudgeSheetNames(classSpreadsheetId);\n        console.log(`[${className}] Found ${judgeSheetNames.length} judge sheets.`);\n        // Map to store the latest score for each project by each judge\n        const latestProjectScoresByJudge = new Map() // projectId -> (judgeName -> latestScore)\n        ;\n        const judgeRanges = judgeSheetNames.map((judgeSheetName)=>`${judgeSheetName}!A:K`);\n        const batchData = await this.batchGetSheetData(classSpreadsheetId, judgeRanges);\n        for (const judgeSheetName of judgeSheetNames){\n            const judgeName = judgeSheetName.replace(\"Judge_\", \"\");\n            const values = batchData[`${judgeSheetName}!A:K`] || [];\n            if (values.length <= 1) continue; // skip if only header or empty\n            // Parse scores as in getJudgeScores\n            const scoresForJudge = values.slice(1).map((row)=>({\n                    sno: row[0] || \"\",\n                    studentName: row[1] || \"\",\n                    grade: row[2] || \"\",\n                    projectTitle: row[3] || \"\",\n                    projectId: row[4] || \"\",\n                    creativity: row[5] ? Number.parseFloat(row[5]) : null,\n                    scientificThought: row[6] ? Number.parseFloat(row[6]) : null,\n                    technicalSkills: row[7] ? Number.parseFloat(row[7]) : null,\n                    presentation: row[8] ? Number.parseFloat(row[8]) : null,\n                    status: row[9] || \"Present\",\n                    themeFit: row[10] || null\n                }));\n            for (const score of scoresForJudge){\n                const pId = score.projectId.trim();\n                if (!latestProjectScoresByJudge.has(pId)) {\n                    latestProjectScoresByJudge.set(pId, new Map());\n                }\n                latestProjectScoresByJudge.get(pId)?.set(judgeName, score);\n            }\n        }\n        console.log(`[${className}] Collected latest scores for projects from each judge.`);\n        console.log(`[${className}] latestProjectScoresByJudge for a sample project (e.g., P4001):`, latestProjectScoresByJudge.get(\"P4001\"));\n        // Aggregate scores per project\n        const projectAggregatedScores = {};\n        // Initialize projectAggregatedScores with details from BaseSheet\n        for (const [pId, details] of projectDetailsMap.entries()){\n            projectAggregatedScores[pId] = {\n                projectTitle: details.title,\n                theme: details.theme,\n                creativitySum: 0,\n                scientificThoughtSum: 0,\n                technicalSkillsSum: 0,\n                presentationSum: 0,\n                judgeCount: 0,\n                absentCount: 0,\n                studentNames: Array.from(details.studentNames).sort()\n            };\n        }\n        // Populate aggregated scores from judge submissions\n        for (const [pId, judgeScoresMap] of latestProjectScoresByJudge.entries()){\n            console.log(`[${className}] Processing scores for Project ${pId} from judges:`, Array.from(judgeScoresMap.keys()));\n            console.log(`[${className}] judgeScoresMap for Project ${pId} has ${judgeScoresMap.size} entries.`);\n            if (!projectAggregatedScores[pId]) {\n                // This project was scored but not found in BaseSheet (e.g., if BaseSheet is incomplete)\n                // Try to get details from the first score entry for this project\n                const firstScore = Array.from(judgeScoresMap.values())[0];\n                projectAggregatedScores[pId] = {\n                    projectTitle: firstScore?.projectTitle || \"\",\n                    theme: projectDetailsMap.get(pId)?.theme || \"\",\n                    creativitySum: 0,\n                    scientificThoughtSum: 0,\n                    technicalSkillsSum: 0,\n                    presentationSum: 0,\n                    judgeCount: 0,\n                    absentCount: 0,\n                    studentNames: []\n                };\n                console.warn(`[${className}] Project ${pId} found in judge sheets but not in BaseSheet. Student names might be incomplete.`);\n            }\n            for (const [judgeName, score] of judgeScoresMap.entries()){\n                if (score.status === \"Absent\") {\n                    console.log(`[${className}] Judge ${judgeName} marked Project ${pId} as Absent.`);\n                    projectAggregatedScores[pId].absentCount++;\n                } else {\n                    // Present\n                    console.log(`[${className}] Adding score for Project ${pId} by Judge ${judgeName}: Creativity=${score.creativity}, ScientificThought=${score.scientificThought}, TechnicalSkills=${score.technicalSkills}, Presentation=${score.presentation}`);\n                    projectAggregatedScores[pId].judgeCount++;\n                    projectAggregatedScores[pId].creativitySum += score.creativity || 0;\n                    projectAggregatedScores[pId].scientificThoughtSum += score.scientificThought || 0;\n                    projectAggregatedScores[pId].technicalSkillsSum += score.technicalSkills || 0;\n                    projectAggregatedScores[pId].presentationSum += score.presentation || 0;\n                }\n            }\n        }\n        console.log(`[${className}] Aggregation complete for project scores.`);\n        console.log(`[${className}] projectAggregatedScores for a sample project (e.g., P4001):`, projectAggregatedScores[\"P4001\"]);\n        // Calculate project averages and prepare rows for \"Score\" tab\n        const scoreTabRows = [];\n        scoreTabRows.push([\n            \"Project ID\",\n            \"Project Title\",\n            \"Theme\",\n            \"Avg Creativity\",\n            \"Avg Scientific Thought\",\n            \"Avg Technical Skills\",\n            \"Avg Presentation\",\n            \"Project Average Score\",\n            \"Student Names\"\n        ]) // New Header for Score tab\n        ;\n        const projectsForScoreTab = [];\n        for(const pId in projectAggregatedScores){\n            const projectData = projectAggregatedScores[pId];\n            let avgCreativity = 0;\n            let avgScientificThought = 0;\n            let avgTechnicalSkills = 0;\n            let avgPresentation = 0;\n            let projectAvgScore = 0;\n            if (projectData.judgeCount > 0) {\n                avgCreativity = projectData.creativitySum / projectData.judgeCount;\n                avgScientificThought = projectData.scientificThoughtSum / projectData.judgeCount;\n                avgTechnicalSkills = projectData.technicalSkillsSum / projectData.judgeCount;\n                avgPresentation = projectData.presentationSum / projectData.judgeCount;\n                projectAvgScore = (avgCreativity + avgScientificThought + avgTechnicalSkills + avgPresentation) / 4;\n            } else if (projectData.absentCount > 0 && projectData.judgeCount === 0) {\n                // All judges marked project absent, so all scores are 0\n                avgCreativity = 0;\n                avgScientificThought = 0;\n                avgTechnicalSkills = 0;\n                avgPresentation = 0;\n                projectAvgScore = 0;\n            }\n            // If no judges scored the project (judgeCount and absentCount are 0), all averages remain 0 (initialized)\n            projectsForScoreTab.push({\n                projectId: pId,\n                projectTitle: projectData.projectTitle,\n                theme: projectData.theme,\n                avgCreativity: avgCreativity,\n                avgScientificThought: avgScientificThought,\n                avgTechnicalSkills: avgTechnicalSkills,\n                avgPresentation: avgPresentation,\n                projectAvgScore: projectAvgScore,\n                studentNames: projectData.studentNames.join(\", \")\n            });\n        }\n        // Sort projects for the Score tab by Project ID for consistent ordering\n        projectsForScoreTab.sort((a, b)=>a.projectId.localeCompare(b.projectId));\n        projectsForScoreTab.forEach((project)=>{\n            scoreTabRows.push([\n                project.projectId,\n                project.projectTitle,\n                project.theme,\n                project.avgCreativity.toFixed(2),\n                project.avgScientificThought.toFixed(2),\n                project.avgTechnicalSkills.toFixed(2),\n                project.avgPresentation.toFixed(2),\n                project.projectAvgScore.toFixed(2),\n                project.studentNames\n            ]);\n        });\n        console.log(`[${className}] Prepared ${scoreTabRows.length - 1} rows for \"Score\" tab (excluding header).`);\n        console.log(`[${className}] Final scoreTabRows before writing:`, scoreTabRows);\n        const scoreSheetName = \"Score\";\n        await this.ensureSheetExists(classSpreadsheetId, scoreSheetName, scoreTabRows[0]) // Pass header for creation\n        ;\n        // Clear existing content before writing new data (excluding header)\n        await this.sheets.spreadsheets.values.clear({\n            spreadsheetId: classSpreadsheetId,\n            range: `${scoreSheetName}!A2:I`\n        });\n        // Write new data (including header)\n        if (scoreTabRows.length > 1) {\n            // Only update if there's data beyond the header\n            await this.sheets.spreadsheets.values.update({\n                spreadsheetId: classSpreadsheetId,\n                range: `${scoreSheetName}!A1`,\n                valueInputOption: \"USER_ENTERED\",\n                resource: {\n                    values: scoreTabRows\n                }\n            });\n            console.log(`✅ Updated \"Score\" tab for ${className} with ${scoreTabRows.length - 1} project average entries.`);\n        } else {\n            console.log(`[${className}] No project average scores to write to \"Score\" tab.`);\n        }\n    }\n    async getTopProjects(className) {\n        const classConfig = this.getClassConfig(className);\n        if (!classConfig) {\n            throw new Error(`No configuration found for class: ${className}`);\n        }\n        const scoreSheetName = \"Score\";\n        const scoreRange = `${scoreSheetName}!A:I` // Updated range for new Score tab columns\n        ;\n        try {\n            const data = await this.getSheetData(classConfig.id, scoreRange);\n            console.log(`[${className}] Read \"Score\" tab for top projects. Rows fetched: ${data.values.length}.`);\n            if (!data.values || data.values.length <= 1) {\n                // No data or only header\n                console.log(`[${className}] \"Score\" tab is empty or only has header. No projects to rank.`);\n                return [];\n            }\n            const projects = [];\n            data.values.slice(1).forEach((row)=>{\n                const projectId = row[0]?.trim() // Project ID is now column A\n                ;\n                const projectTitle = row[1]?.trim() // Project Title is now column B\n                ;\n                const theme = row[2]?.trim() // Theme is now column C\n                ;\n                const projectAvgScore = Number.parseFloat(row[7]) || 0 // Project Average Score is now column H (index 7)\n                ;\n                const studentNames = row[8]?.trim() || \"\" // Student Names is now column I (index 8)\n                ;\n                if (projectId) {\n                    projects.push({\n                        projectId: projectId,\n                        projectTitle: projectTitle,\n                        theme: theme,\n                        projectAvgScore: projectAvgScore,\n                        studentNames: studentNames\n                    });\n                } else {\n                    console.warn(`[${className}] Skipping row in \"Score\" tab for top projects due to missing Project ID: ${row.join(\", \")}`);\n                }\n            });\n            console.log(`[${className}] Parsed ${projects.length} projects from \"Score\" tab.`);\n            // Sort by project average score descending\n            projects.sort((a, b)=>b.projectAvgScore - a.projectAvgScore);\n            console.log(`[${className}] Projects sorted by average score.`);\n            const topProjects = [];\n            let currentRank = 1;\n            let projectsAdded = 0;\n            for(let i = 0; i < projects.length; i++){\n                const project = projects[i];\n                if (projectsAdded < 3) {\n                    topProjects.push({\n                        ...project,\n                        standard: className,\n                        rank: currentRank\n                    });\n                    projectsAdded++;\n                } else if (project.projectAvgScore === topProjects[topProjects.length - 1].projectAvgScore) {\n                    // Handle ties for 3rd place\n                    topProjects.push({\n                        ...project,\n                        standard: className,\n                        rank: currentRank\n                    });\n                } else {\n                    break; // Stop after top 3 (and ties)\n                }\n                // Update rank for next distinct score, only if current project's score is different from the last added project's score\n                if (i < projects.length - 1 && projects[i + 1].projectAvgScore < project.projectAvgScore) {\n                    currentRank = topProjects.length + 1;\n                }\n            }\n            console.log(`[${className}] Identified ${topProjects.length} top projects.`);\n            return topProjects;\n        } catch (error) {\n            console.error(`Error getting top projects for ${className}:`, error);\n            throw new Error(`Failed to get top projects for ${className}.`);\n        }\n    }\n    async updateAdminSummary(summaryData) {\n        const adminMasterSheetId = SPREADSHEET_CONFIG.ADMIN_MASTER.id;\n        const summarySheetName = \"Summary\";\n        const summaryHeader = [\n            \"Standard\",\n            \"Rank\",\n            \"Project ID\",\n            \"Project Title\",\n            \"Theme\",\n            \"Project Avg Score\",\n            \"Student Names\"\n        ] // Added Student Names\n        ;\n        await this.ensureSheetExists(adminMasterSheetId, summarySheetName, summaryHeader);\n        // Clear existing content in Summary tab (excluding header)\n        await this.sheets.spreadsheets.values.clear({\n            spreadsheetId: adminMasterSheetId,\n            range: `${summarySheetName}!A2:G`\n        });\n        if (summaryData.length === 0) {\n            console.log(\"No summary data to append to Admin Master Sheet.\");\n            return;\n        }\n        const rowsToAppend = summaryData.map((data)=>[\n                data.standard,\n                data.rank.toString(),\n                data.projectId,\n                data.projectTitle,\n                data.theme,\n                data.projectAvgScore.toFixed(2),\n                data.studentNames\n            ]);\n        await this.sheets.spreadsheets.values.append({\n            spreadsheetId: adminMasterSheetId,\n            range: `${summarySheetName}!A2`,\n            valueInputOption: \"USER_ENTERED\",\n            resource: {\n                values: rowsToAppend\n            }\n        });\n        console.log(`✅ Appended ${rowsToAppend.length} rows to \"Summary\" tab in Admin Master Sheet.`);\n    }\n    getClassConfig(className) {\n        return SPREADSHEET_CONFIG.CLASSES[className];\n    }\n    getSpreadsheetId(className) {\n        const classConfig = this.getClassConfig(className);\n        return classConfig?.id || \"\";\n    }\n    // New function to update a class's spreadsheet ID\n    updateClassSpreadsheetId(className, newId) {\n        if (SPREADSHEET_CONFIG.CLASSES[className]) {\n            // Update in-memory config\n            SPREADSHEET_CONFIG = {\n                ...SPREADSHEET_CONFIG,\n                CLASSES: {\n                    ...SPREADSHEET_CONFIG.CLASSES,\n                    [className]: {\n                        ...SPREADSHEET_CONFIG.CLASSES[className],\n                        id: newId\n                    }\n                }\n            };\n            // Persist to file\n            const ids = loadClassSheetIds();\n            ids[className] = newId;\n            saveClassSheetIds(ids);\n            console.log(`[Backend Simulation] Updated SPREADSHEET_CONFIG for ${className} to ID: ${newId} and persisted to file`);\n        } else {\n            console.warn(`[Backend Simulation] Class ${className} not found in SPREADSHEET_CONFIG.`);\n        }\n    }\n}\n// Export singleton instance\nconst googleSheetsService = new GoogleSheetsService();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDMkMsVUFBcUQsRUFBRTtZQUNwRiwwQkFBMEI7WUFDMUJsRCxxQkFBcUI7Z0JBQ25CLEdBQUdBLGtCQUFrQjtnQkFDckJPLFNBQVM7b0JBQ1AsR0FBR1AsbUJBQW1CTyxPQUFPO29CQUM3QixDQUFDMkMsVUFBVSxFQUFFO3dCQUNYLEdBQUdsRCxtQkFBbUJPLE9BQU8sQ0FBQzJDLFVBQXFEO3dCQUNuRmhELElBQUl5SztvQkFDTjtnQkFDRjtZQUNGO1lBQ0Esa0JBQWtCO1lBQ2xCLE1BQU1wTCxNQUFNTjtZQUNaTSxHQUFHLENBQUMyRCxVQUFVLEdBQUd5SDtZQUNqQnJMLGtCQUFrQkM7WUFDbEJnQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxvREFBb0QsRUFBRTBCLFVBQVUsUUFBUSxFQUFFeUgsTUFBTSxzQkFBc0IsQ0FBQztRQUN0SCxPQUFPO1lBQ0xwSixRQUFRZ0gsSUFBSSxDQUFDLENBQUMsMkJBQTJCLEVBQUVyRixVQUFVLGlDQUFpQyxDQUFDO1FBQ3pGO0lBQ0Y7QUFDRjtBQUVBLDRCQUE0QjtBQUNyQixNQUFNMEgsc0JBQXNCLElBQUluSyxzQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbGliL2dvb2dsZS1zaGVldHMudHM/NjJkNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHb29nbGVBdXRoIH0gZnJvbSBcImdvb2dsZS1hdXRoLWxpYnJhcnlcIlxuaW1wb3J0IHsgZ29vZ2xlIH0gZnJvbSBcImdvb2dsZWFwaXNcIlxuaW1wb3J0ICogYXMgZnMgZnJvbSBcImZzXCJcbmltcG9ydCAqIGFzIHBhdGggZnJvbSBcInBhdGhcIlxuXG5jb25zdCBDTEFTU19TSEVFVF9JRFNfUEFUSCA9IHBhdGgucmVzb2x2ZShwcm9jZXNzLmN3ZCgpLCBcImNvbmZpZy9jbGFzcy1zaGVldC1pZHMuanNvblwiKVxuXG5mdW5jdGlvbiBsb2FkQ2xhc3NTaGVldElkcygpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByYXcgPSBmcy5yZWFkRmlsZVN5bmMoQ0xBU1NfU0hFRVRfSURTX1BBVEgsIFwidXRmLThcIilcbiAgICByZXR1cm4gSlNPTi5wYXJzZShyYXcpXG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiB7fVxuICB9XG59XG5cbmZ1bmN0aW9uIHNhdmVDbGFzc1NoZWV0SWRzKGlkczogUmVjb3JkPHN0cmluZywgc3RyaW5nPikge1xuICBmcy53cml0ZUZpbGVTeW5jKENMQVNTX1NIRUVUX0lEU19QQVRILCBKU09OLnN0cmluZ2lmeShpZHMsIG51bGwsIDIpLCBcInV0Zi04XCIpXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgU2hlZXRDcmVkZW50aWFsIHtcbiAgdXNlcm5hbWU6IHN0cmluZ1xuICBwYXNzd29yZDogc3RyaW5nXG4gIHJvbGU6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN0dWRlbnRQcm9qZWN0IHtcbiAgc25vOiBzdHJpbmdcbiAgc3R1ZGVudE5hbWU6IHN0cmluZ1xuICBncmFkZTogc3RyaW5nXG4gIHByb2plY3RUaXRsZTogc3RyaW5nXG4gIHByb2plY3RJZDogc3RyaW5nXG4gIHRoZW1lPzogc3RyaW5nIC8vIEFkZGVkIHRoZW1lIGZpZWxkXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSnVkZ2VTY29yZSB7XG4gIHNubzogc3RyaW5nXG4gIHN0dWRlbnROYW1lOiBzdHJpbmdcbiAgZ3JhZGU6IHN0cmluZ1xuICBwcm9qZWN0VGl0bGU6IHN0cmluZ1xuICBwcm9qZWN0SWQ6IHN0cmluZ1xuICBjcmVhdGl2aXR5OiBudW1iZXIgfCBudWxsXG4gIHNjaWVudGlmaWNUaG91Z2h0OiBudW1iZXIgfCBudWxsXG4gIHRlY2huaWNhbFNraWxsczogbnVtYmVyIHwgbnVsbFxuICBwcmVzZW50YXRpb246IG51bWJlciB8IG51bGxcbiAgc3RhdHVzPzogc3RyaW5nIC8vIEFkZGVkIHN0YXR1cyBmaWVsZCAoZS5nLiwgXCJQcmVzZW50XCIsIFwiQWJzZW50XCIpXG4gIHRoZW1lRml0Pzogc3RyaW5nIHwgbnVsbCAvLyBBZGRlZCB0aGVtZUZpdCBmaWVsZFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNoZWV0RGF0YSB7XG4gIHZhbHVlczogc3RyaW5nW11bXVxuICByYW5nZTogc3RyaW5nXG4gIHNwcmVhZHNoZWV0SWQ6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgQ2xhc3NDb25maWcge1xuICBpZDogc3RyaW5nXG4gIGJhc2VTaGVldDogc3RyaW5nXG4gIHJhbmdlOiBzdHJpbmdcbn1cblxuLy8gQ29uZmlndXJhdGlvbiBmb3IgR29vZ2xlIFNoZWV0cyBBUElcbmV4cG9ydCBjb25zdCBHT09HTEVfU0hFRVRTX0NPTkZJRyA9IHtcbiAgc2VydmljZUFjY291bnRLZXlQYXRoOiBwcm9jZXNzLmVudi5HT09HTEVfU0VSVklDRV9BQ0NPVU5UX0tFWV9QQVRIIHx8IFwiLi9jb25maWcvc2VydmljZS1hY2NvdW50LWtleS5qc29uXCIsXG4gIHNjb3BlczogW1wiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9zcHJlYWRzaGVldHNcIl0sXG59XG5cbi8vIFNwcmVhZHNoZWV0IGNvbmZpZ3VyYXRpb25zIC0gY2hhbmdlZCB0byAnbGV0JyB0byBhbGxvdyBkeW5hbWljIHVwZGF0ZXMgZm9yIGRlbW9uc3RyYXRpb25cbmNvbnN0IHBlcnNpc3RlZElkcyA9IGxvYWRDbGFzc1NoZWV0SWRzKClcbmV4cG9ydCBsZXQgU1BSRUFEU0hFRVRfQ09ORklHID0ge1xuICBDUkVERU5USUFMUzoge1xuICAgIGlkOiBwcm9jZXNzLmVudi5DUkVERU5USUFMU19TUFJFQURTSEVFVF9JRCB8fCBcIjFzbmstRlpheHlaYlN1X1d3LW9QbmFtOEp4WjJSTGczZXRJNVRCa3ItVDFBXCIsIC8vIFJFUExBQ0UgV0lUSCBZT1VSIENSRURFTlRJQUxTIFNIRUVUIElEXG4gICAgcmFuZ2U6IFwiU2hlZXQxIUE6Q1wiLCAvLyBVc2VybmFtZSwgUGFzc3dvcmQsIFJvbGVcbiAgfSxcbiAgQURNSU5fTUFTVEVSOiB7XG4gICAgaWQ6IHByb2Nlc3MuZW52LkFETUlOX01BU1RFUl9TUFJFQURTSEVFVF9JRCB8fCBcIjFzbmstRlpheHlaYlN1X1d3LW9QbmFtOEp4WjJSTGczZXRJNVRCa3ItVDFBXCIsIC8vIE5ldzogQWRtaW4gTWFzdGVyIFNoZWV0IElELCBkZWZhdWx0cyB0byBjcmVkZW50aWFscyBzaGVldFxuICB9LFxuICBDTEFTU0VTOiB7XG4gICAgXCJDbGFzcyA0XCI6IHtcbiAgICAgIGlkOiBwZXJzaXN0ZWRJZHNbXCJDbGFzcyA0XCJdLCAvLyBSRVBMQUNFXG4gICAgICBiYXNlU2hlZXQ6IFwiQmFzZVNoZWV0XCIsXG4gICAgICByYW5nZTogXCJTaGVldDEhQTpGXCIsIC8vIFVwZGF0ZWQgcmFuZ2UgdG8gaW5jbHVkZSBUaGVtZSAoYXNzdW1pbmcgY29sdW1uIEYpXG4gICAgfSxcbiAgICBcIkNsYXNzIDVcIjoge1xuICAgICAgaWQ6IHBlcnNpc3RlZElkc1tcIkNsYXNzIDVcIl0sIC8vIFJFUExBQ0VcbiAgICAgIGJhc2VTaGVldDogXCJCYXNlU2hlZXRcIixcbiAgICAgIHJhbmdlOiBcIlNoZWV0MSFBOkZcIiwgLy8gVXBkYXRlZCByYW5nZSB0byBpbmNsdWRlIFRoZW1lIChhc3N1bWluZyBjb2x1bW4gRilcbiAgICB9LFxuICAgIFwiQ2xhc3MgNlwiOiB7XG4gICAgICBpZDogcGVyc2lzdGVkSWRzW1wiQ2xhc3MgNlwiXSwgLy8gUkVQTEFDRVxuICAgICAgYmFzZVNoZWV0OiBcIkJhc2VTaGVldFwiLFxuICAgICAgcmFuZ2U6IFwiU2hlZXQxIUE6RlwiLCAvLyBVcGRhdGVkIHJhbmdlIHRvIGluY2x1ZGUgVGhlbWUgKGFzc3VtaW5nIGNvbHVtbiBGKVxuICAgIH0sXG4gICAgXCJDbGFzcyA3XCI6IHtcbiAgICAgIGlkOiBwZXJzaXN0ZWRJZHNbXCJDbGFzcyA3XCJdLCAvLyBSRVBMQUNFXG4gICAgICBiYXNlU2hlZXQ6IFwiQmFzZVNoZWV0XCIsXG4gICAgICByYW5nZTogXCJTaGVldDEhQTpGXCIsIC8vIFVwZGF0ZWQgcmFuZ2UgdG8gaW5jbHVkZSBUaGVtZSAoYXNzdW1pbmcgY29sdW1uIEYpXG4gICAgfSxcbiAgICBcIkNsYXNzIDhcIjoge1xuICAgICAgaWQ6IHBlcnNpc3RlZElkc1tcIkNsYXNzIDhcIl0sIC8vIFJFUExBQ0VcbiAgICAgIGJhc2VTaGVldDogXCJCYXNlU2hlZXRcIixcbiAgICAgIHJhbmdlOiBcIlNoZWV0MSFBOkZcIiwgLy8gVXBkYXRlZCByYW5nZSB0byBpbmNsdWRlIFRoZW1lIChhc3N1bWluZyBjb2x1bW4gRilcbiAgICB9LFxuICAgIFwiQ2xhc3MgOVwiOiB7XG4gICAgICBpZDogcGVyc2lzdGVkSWRzW1wiQ2xhc3MgOVwiXSwgLy8gUkVQTEFDRVxuICAgICAgYmFzZVNoZWV0OiBcIkJhc2VTaGVldFwiLFxuICAgICAgcmFuZ2U6IFwiU2hlZXQxIUE6RlwiLCAvLyBVcGRhdGVkIHJhbmdlIHRvIGluY2x1ZGUgVGhlbWUgKGFzc3VtaW5nIGNvbHVtbiBGKVxuICAgIH0sXG4gICAgXCJDbGFzcyAxMFwiOiB7XG4gICAgICBpZDogcGVyc2lzdGVkSWRzW1wiQ2xhc3MgMTBcIl0sIC8vIFJFUExBQ0VcbiAgICAgIGJhc2VTaGVldDogXCJCYXNlU2hlZXRcIixcbiAgICAgIHJhbmdlOiBcIlNoZWV0MSFBOkZcIiwgLy8gVXBkYXRlZCByYW5nZSB0byBpbmNsdWRlIFRoZW1lIChhc3N1bWluZyBjb2x1bW4gRilcbiAgICB9LFxuICAgIFwiQ2xhc3MgMTFcIjoge1xuICAgICAgaWQ6IHBlcnNpc3RlZElkc1tcIkNsYXNzIDExXCJdLCAvLyBSRVBMQUNFXG4gICAgICBiYXNlU2hlZXQ6IFwiQmFzZVNoZWV0XCIsXG4gICAgICByYW5nZTogXCJTaGVldDEhQTpGXCIsIC8vIFVwZGF0ZWQgcmFuZ2UgdG8gaW5jbHVkZSBUaGVtZSAoYXNzdW1pbmcgY29sdW1uIEYpXG4gICAgfSxcbiAgICBcIkNsYXNzIDEyXCI6IHtcbiAgICAgIGlkOiBwZXJzaXN0ZWRJZHNbXCJDbGFzcyAxMlwiXSwgLy8gUkVQTEFDRVxuICAgICAgYmFzZVNoZWV0OiBcIkJhc2VTaGVldFwiLFxuICAgICAgcmFuZ2U6IFwiU2hlZXQxIUE6RlwiLCAvLyBVcGRhdGVkIHJhbmdlIHRvIGluY2x1ZGUgVGhlbWUgKGFzc3VtaW5nIGNvbHVtbiBGKVxuICAgIH0sXG4gIH0sXG59XG5cbmV4cG9ydCBjbGFzcyBHb29nbGVTaGVldHNTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBhdXRoOiBHb29nbGVBdXRoXG4gIHByaXZhdGUgc2hlZXRzOiBhbnlcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBIYW5kbGUgYm90aCBmaWxlIHBhdGggYW5kIGJhc2U2NCBlbmNvZGVkIGtleSBmb3IgZGVwbG95bWVudFxuICAgIGlmIChwcm9jZXNzLmVudi5HT09HTEVfU0VSVklDRV9BQ0NPVU5UX0tFWV9CQVNFNjQpIHtcbiAgICAgIGNvbnN0IGtleURhdGEgPSBCdWZmZXIuZnJvbShwcm9jZXNzLmVudi5HT09HTEVfU0VSVklDRV9BQ0NPVU5UX0tFWV9CQVNFNjQsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwidXRmOFwiKVxuICAgICAgY29uc3Qga2V5UGF0aCA9IFwiL3RtcC9zZXJ2aWNlLWFjY291bnQta2V5Lmpzb25cIiAvLyBWZXJjZWwgL3RtcCBkaXJlY3RvcnkgaXMgd3JpdGFibGVcbiAgICAgIGZzLndyaXRlRmlsZVN5bmMoa2V5UGF0aCwga2V5RGF0YSlcbiAgICAgIHRoaXMuYXV0aCA9IG5ldyBHb29nbGVBdXRoKHtcbiAgICAgICAga2V5RmlsZToga2V5UGF0aCxcbiAgICAgICAgc2NvcGVzOiBHT09HTEVfU0hFRVRTX0NPTkZJRy5zY29wZXMsXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmF1dGggPSBuZXcgR29vZ2xlQXV0aCh7XG4gICAgICAgIGtleUZpbGU6IEdPT0dMRV9TSEVFVFNfQ09ORklHLnNlcnZpY2VBY2NvdW50S2V5UGF0aCxcbiAgICAgICAgc2NvcGVzOiBHT09HTEVfU0hFRVRTX0NPTkZJRy5zY29wZXMsXG4gICAgICB9KVxuICAgIH1cbiAgICB0aGlzLnNoZWV0cyA9IGdvb2dsZS5zaGVldHMoeyB2ZXJzaW9uOiBcInY0XCIsIGF1dGg6IHRoaXMuYXV0aCB9KVxuICB9XG5cbiAgYXN5bmMgZ2V0U2hlZXREYXRhKHNwcmVhZHNoZWV0SWQ6IHN0cmluZywgcmFuZ2U6IHN0cmluZyk6IFByb21pc2U8U2hlZXREYXRhPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SXIEZldGNoaW5nIGRhdGEgZnJvbSBHb29nbGUgU2hlZXRzOiAke3NwcmVhZHNoZWV0SWR9LCBSYW5nZTogJHtyYW5nZX1gKVxuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2hlZXRzLnNwcmVhZHNoZWV0cy52YWx1ZXMuZ2V0KHtcbiAgICAgICAgc3ByZWFkc2hlZXRJZCxcbiAgICAgICAgcmFuZ2UsXG4gICAgICB9KVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZXM6IHJlc3BvbnNlLmRhdGEudmFsdWVzIHx8IFtdLFxuICAgICAgICByYW5nZSxcbiAgICAgICAgc3ByZWFkc2hlZXRJZCxcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHNoZWV0IGRhdGE6XCIsIGVycm9yKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgRmFpbGVkIHRvIGZldGNoIGRhdGEgZnJvbSBzcHJlYWRzaGVldCAke3NwcmVhZHNoZWV0SWR9LiBQbGVhc2UgY2hlY2sgcGVybWlzc2lvbnMgYW5kIHNwcmVhZHNoZWV0IElELmAsXG4gICAgICApXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgYmF0Y2hHZXRTaGVldERhdGEoc3ByZWFkc2hlZXRJZDogc3RyaW5nLCByYW5nZXM6IHN0cmluZ1tdKTogUHJvbWlzZTx7IFtyYW5nZTogc3RyaW5nXTogc3RyaW5nW11bXSB9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zaGVldHMuc3ByZWFkc2hlZXRzLnZhbHVlcy5iYXRjaEdldCh7XG4gICAgICAgIHNwcmVhZHNoZWV0SWQsXG4gICAgICAgIHJhbmdlcyxcbiAgICAgIH0pXG4gICAgICBjb25zdCByZXN1bHQ6IHsgW3JhbmdlOiBzdHJpbmddOiBzdHJpbmdbXVtdIH0gPSB7fVxuICAgICAgOyhyZXNwb25zZS5kYXRhLnZhbHVlUmFuZ2VzIHx8IFtdKS5mb3JFYWNoKCh2YWx1ZVJhbmdlOiBhbnkpID0+IHtcbiAgICAgICAgcmVzdWx0W3ZhbHVlUmFuZ2UucmFuZ2VdID0gdmFsdWVSYW5nZS52YWx1ZXMgfHwgW11cbiAgICAgIH0pXG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBiYXRjaEdldFNoZWV0RGF0YTpcIiwgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBiYXRjaCBnZXQgZGF0YSBmcm9tIHNwcmVhZHNoZWV0ICR7c3ByZWFkc2hlZXRJZH0uYClcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRDcmVkZW50aWFscygpOiBQcm9taXNlPFNoZWV0Q3JlZGVudGlhbFtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmdldFNoZWV0RGF0YShTUFJFQURTSEVFVF9DT05GSUcuQ1JFREVOVElBTFMuaWQsIFNQUkVBRFNIRUVUX0NPTkZJRy5DUkVERU5USUFMUy5yYW5nZSlcblxuICAgICAgaWYgKCFkYXRhLnZhbHVlcyB8fCBkYXRhLnZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY3JlZGVudGlhbHMgZm91bmQgaW4gdGhlIHNwcmVhZHNoZWV0XCIpXG4gICAgICB9XG5cbiAgICAgIC8vIFNraXAgaGVhZGVyIHJvdyBhbmQgbWFwIHRvIGNyZWRlbnRpYWwgb2JqZWN0c1xuICAgICAgcmV0dXJuIGRhdGEudmFsdWVzXG4gICAgICAgIC5zbGljZSgxKVxuICAgICAgICAubWFwKChyb3cpID0+ICh7XG4gICAgICAgICAgdXNlcm5hbWU6IHJvd1swXSB8fCBcIlwiLFxuICAgICAgICAgIHBhc3N3b3JkOiByb3dbMV0gfHwgXCJcIixcbiAgICAgICAgICByb2xlOiByb3dbMl0gfHwgXCJcIixcbiAgICAgICAgfSkpXG4gICAgICAgIC5maWx0ZXIoKGNyZWQpID0+IGNyZWQudXNlcm5hbWUgJiYgY3JlZC5wYXNzd29yZCAmJiBjcmVkLnJvbGUpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBjcmVkZW50aWFsczpcIiwgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggY3JlZGVudGlhbHMgZnJvbSBHb29nbGUgU2hlZXRzXCIpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0UHJvamVjdElkcyhjbGFzc05hbWU6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2xhc3NDb25maWcgPSB0aGlzLmdldENsYXNzQ29uZmlnKGNsYXNzTmFtZSlcblxuICAgICAgaWYgKCFjbGFzc0NvbmZpZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGNvbmZpZ3VyYXRpb24gZm91bmQgZm9yIGNsYXNzOiAke2NsYXNzTmFtZX1gKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5nZXRTaGVldERhdGEoY2xhc3NDb25maWcuaWQsIGNsYXNzQ29uZmlnLnJhbmdlKVxuXG4gICAgICBpZiAoIWRhdGEudmFsdWVzIHx8IGRhdGEudmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gW11cbiAgICAgIH1cblxuICAgICAgLy8gU2tpcCBoZWFkZXIgcm93IGFuZCBleHRyYWN0IFByb2plY3QgSURzIGZyb20gY29sdW1uIEUgKGluZGV4IDQpXG4gICAgICBjb25zdCBwcm9qZWN0SWRzID0gZGF0YS52YWx1ZXNcbiAgICAgICAgLnNsaWNlKDEpIC8vIFNraXAgaGVhZGVyIHJvd1xuICAgICAgICAubWFwKChyb3cpID0+IHJvd1s0XSkgLy8gQ29sdW1uIEUgKFByb2plY3QgSUQpIGlzIGF0IGluZGV4IDRcbiAgICAgICAgLmZpbHRlcigoaWQpID0+IGlkICYmIGlkLnRyaW0oKSAhPT0gXCJcIikgLy8gUmVtb3ZlIGVtcHR5IGNlbGxzXG4gICAgICAgIC5tYXAoKGlkKSA9PiBpZC50cmltKCkpIC8vIENsZWFuIHdoaXRlc3BhY2VcblxuICAgICAgLy8gUmV0dXJuIHVuaXF1ZSBwcm9qZWN0IElEcyBvbmx5XG4gICAgICByZXR1cm4gWy4uLm5ldyBTZXQocHJvamVjdElkcyldXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZldGNoaW5nIHByb2plY3QgSURzIGZvciAke2NsYXNzTmFtZX06YCwgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBwcm9qZWN0IElEcyBmb3IgJHtjbGFzc05hbWV9IGZyb20gR29vZ2xlIFNoZWV0c2ApXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0U3R1ZGVudHNCeVByb2plY3RJZChjbGFzc05hbWU6IHN0cmluZywgcHJvamVjdElkOiBzdHJpbmcpOiBQcm9taXNlPFN0dWRlbnRQcm9qZWN0W10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2xhc3NDb25maWcgPSB0aGlzLmdldENsYXNzQ29uZmlnKGNsYXNzTmFtZSlcblxuICAgICAgaWYgKCFjbGFzc0NvbmZpZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGNvbmZpZ3VyYXRpb24gZm91bmQgZm9yIGNsYXNzOiAke2NsYXNzTmFtZX1gKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5nZXRTaGVldERhdGEoY2xhc3NDb25maWcuaWQsIGNsYXNzQ29uZmlnLnJhbmdlKVxuXG4gICAgICBpZiAoIWRhdGEudmFsdWVzIHx8IGRhdGEudmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gW11cbiAgICAgIH1cblxuICAgICAgLy8gU2tpcCBoZWFkZXIgcm93IGFuZCBmaWx0ZXIgYnkgUHJvamVjdCBJRFxuICAgICAgY29uc3Qgc3R1ZGVudHMgPSBkYXRhLnZhbHVlc1xuICAgICAgICAuc2xpY2UoMSkgLy8gU2tpcCBoZWFkZXIgcm93XG4gICAgICAgIC5maWx0ZXIoKHJvdykgPT4gcm93WzRdICYmIHJvd1s0XS50cmltKCkgPT09IHByb2plY3RJZC50cmltKCkpIC8vIEZpbHRlciBieSBQcm9qZWN0IElEXG4gICAgICAgIC5tYXAoKHJvdykgPT4gKHtcbiAgICAgICAgICBzbm86IHJvd1swXSB8fCBcIlwiLFxuICAgICAgICAgIHN0dWRlbnROYW1lOiByb3dbMV0gfHwgXCJcIixcbiAgICAgICAgICBncmFkZTogcm93WzJdIHx8IFwiXCIsXG4gICAgICAgICAgcHJvamVjdFRpdGxlOiByb3dbM10gfHwgXCJcIixcbiAgICAgICAgICBwcm9qZWN0SWQ6IHJvd1s0XSB8fCBcIlwiLFxuICAgICAgICAgIHRoZW1lOiByb3dbNV0gfHwgXCJcIiwgLy8gQXNzdW1pbmcgVGhlbWUgaXMgaW4gY29sdW1uIEYgKGluZGV4IDUpXG4gICAgICAgIH0pKVxuICAgICAgICAuZmlsdGVyKChzdHVkZW50KSA9PiBzdHVkZW50LnN0dWRlbnROYW1lICYmIHN0dWRlbnQucHJvamVjdElkKVxuXG4gICAgICByZXR1cm4gc3R1ZGVudHNcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgc3R1ZGVudHMgZm9yIHByb2plY3QgJHtwcm9qZWN0SWR9OmAsIGVycm9yKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggc3R1ZGVudHMgZm9yIHByb2plY3QgJHtwcm9qZWN0SWR9IGZyb20gR29vZ2xlIFNoZWV0c2ApXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0SnVkZ2VTY29yZXMoY2xhc3NOYW1lOiBzdHJpbmcsIGp1ZGdlTmFtZTogc3RyaW5nLCBwcm9qZWN0SWQ/OiBzdHJpbmcpOiBQcm9taXNlPEp1ZGdlU2NvcmVbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjbGFzc0NvbmZpZyA9IHRoaXMuZ2V0Q2xhc3NDb25maWcoY2xhc3NOYW1lKVxuICAgICAgaWYgKCFjbGFzc0NvbmZpZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGNvbmZpZ3VyYXRpb24gZm91bmQgZm9yIGNsYXNzOiAke2NsYXNzTmFtZX1gKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBqdWRnZVNoZWV0TmFtZSA9IGBKdWRnZV8ke2p1ZGdlTmFtZX1gXG4gICAgICBjb25zdCBqdWRnZVJhbmdlID0gYCR7anVkZ2VTaGVldE5hbWV9IUE6S2AgLy8gVXBkYXRlZCByYW5nZSB0byBpbmNsdWRlIFRoZW1lIEZpdCAoYXNzdW1pbmcgY29sdW1uIEspXG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmdldFNoZWV0RGF0YShjbGFzc0NvbmZpZy5pZCwganVkZ2VSYW5nZSlcblxuICAgICAgICBpZiAoIWRhdGEudmFsdWVzIHx8IGRhdGEudmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBbXVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2tpcCBoZWFkZXIgcm93IGFuZCBvcHRpb25hbGx5IGZpbHRlciBieSBQcm9qZWN0IElEXG4gICAgICAgIGxldCBzY29yZXMgPSBkYXRhLnZhbHVlc1xuICAgICAgICAgIC5zbGljZSgxKSAvLyBTa2lwIGhlYWRlciByb3dcbiAgICAgICAgICAubWFwKChyb3cpID0+ICh7XG4gICAgICAgICAgICBzbm86IHJvd1swXSB8fCBcIlwiLFxuICAgICAgICAgICAgc3R1ZGVudE5hbWU6IHJvd1sxXSB8fCBcIlwiLFxuICAgICAgICAgICAgZ3JhZGU6IHJvd1syXSB8fCBcIlwiLFxuICAgICAgICAgICAgcHJvamVjdFRpdGxlOiByb3dbM10gfHwgXCJcIixcbiAgICAgICAgICAgIHByb2plY3RJZDogcm93WzRdIHx8IFwiXCIsXG4gICAgICAgICAgICBjcmVhdGl2aXR5OiByb3dbNV0gPyBOdW1iZXIucGFyc2VGbG9hdChyb3dbNV0pIDogbnVsbCxcbiAgICAgICAgICAgIHNjaWVudGlmaWNUaG91Z2h0OiByb3dbNl0gPyBOdW1iZXIucGFyc2VGbG9hdChyb3dbNl0pIDogbnVsbCxcbiAgICAgICAgICAgIHRlY2huaWNhbFNraWxsczogcm93WzddID8gTnVtYmVyLnBhcnNlRmxvYXQocm93WzddKSA6IG51bGwsXG4gICAgICAgICAgICBwcmVzZW50YXRpb246IHJvd1s4XSA/IE51bWJlci5wYXJzZUZsb2F0KHJvd1s4XSkgOiBudWxsLFxuICAgICAgICAgICAgc3RhdHVzOiByb3dbOV0gfHwgXCJQcmVzZW50XCIsIC8vIEFzc3VtaW5nIFN0YXR1cyBpcyBpbiBjb2x1bW4gSiAoaW5kZXggOSksIGRlZmF1bHQgdG8gXCJQcmVzZW50XCJcbiAgICAgICAgICAgIHRoZW1lRml0OiByb3dbMTBdIHx8IG51bGwsIC8vIEFzc3VtaW5nIFRoZW1lIEZpdCBpcyBpbiBjb2x1bW4gSyAoaW5kZXggMTApXG4gICAgICAgICAgfSkpXG5cbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UlyBGZXRjaGVkICR7c2NvcmVzLmxlbmd0aH0gc2NvcmVzIGZyb20gJHtqdWRnZVNoZWV0TmFtZX0gZm9yIGNsYXNzICR7Y2xhc3NOYW1lfWApXG5cbiAgICAgICAgLy8gRmlsdGVyIGJ5IHByb2plY3QgSUQgaWYgc3BlY2lmaWVkXG4gICAgICAgIGlmIChwcm9qZWN0SWQpIHtcbiAgICAgICAgICBzY29yZXMgPSBzY29yZXMuZmlsdGVyKChzY29yZSkgPT4gc2NvcmUucHJvamVjdElkLnRyaW0oKSA9PT0gcHJvamVjdElkLnRyaW0oKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzY29yZXNcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIEp1ZGdlIHNoZWV0IGRvZXNuJ3QgZXhpc3QgeWV0IG9yIGlzIGVtcHR5LCB3aGljaCBpcyBmaW5lIGZvciBpbml0aWFsIGZldGNoXG4gICAgICAgIGNvbnNvbGUubG9nKGBKdWRnZSBzaGVldCAke2p1ZGdlU2hlZXROYW1lfSBkb2Vzbid0IGV4aXN0IHlldCBvciBpcyBlbXB0eS5gKVxuICAgICAgICByZXR1cm4gW11cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcganVkZ2Ugc2NvcmVzOmAsIGVycm9yKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2gganVkZ2Ugc2NvcmVzIGZyb20gR29vZ2xlIFNoZWV0c2ApXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgc2F2ZUp1ZGdlU2NvcmVzKGNsYXNzTmFtZTogc3RyaW5nLCBqdWRnZU5hbWU6IHN0cmluZywgc2NvcmVzOiBKdWRnZVNjb3JlW10pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgY2xhc3NDb25maWcgPSB0aGlzLmdldENsYXNzQ29uZmlnKGNsYXNzTmFtZSlcbiAgICAgIGlmICghY2xhc3NDb25maWcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBjb25maWd1cmF0aW9uIGZvdW5kIGZvciBjbGFzczogJHtjbGFzc05hbWV9YClcbiAgICAgIH1cblxuICAgICAgY29uc3QganVkZ2VTaGVldE5hbWUgPSBgSnVkZ2VfJHtqdWRnZU5hbWV9YFxuICAgICAgY29uc3QganVkZ2VIZWFkZXJSb3cgPSBbXG4gICAgICAgIFwiUy5Oby5cIixcbiAgICAgICAgXCJOYW1lIG9mIHRoZSBTdHVkZW50XCIsXG4gICAgICAgIFwiR3JhZGVcIixcbiAgICAgICAgXCJQcm9qZWN0IFRpdGxlXCIsXG4gICAgICAgIFwiUHJvamVjdCBJRFwiLFxuICAgICAgICBcIkNyZWF0aXZpdHkgJiBJbWFnaW5hdGlvblwiLFxuICAgICAgICBcIlNjaWVudGlmaWMgVGhvdWdodFwiLFxuICAgICAgICBcIlRlY2huaWNhbCBTa2lsbHNcIixcbiAgICAgICAgXCJQcmVzZW50YXRpb25cIixcbiAgICAgICAgXCJTdGF0dXNcIixcbiAgICAgICAgXCJUaGVtZSBGaXRcIiwgLy8gQWRkZWQgVGhlbWUgRml0IHRvIGhlYWRlclxuICAgICAgXVxuXG4gICAgICAvLyBFbnN1cmUganVkZ2Ugc2hlZXQgZXhpc3RzIGFuZCBoYXMgaGVhZGVyXG4gICAgICBhd2FpdCB0aGlzLmVuc3VyZVNoZWV0RXhpc3RzKGNsYXNzQ29uZmlnLmlkLCBqdWRnZVNoZWV0TmFtZSwganVkZ2VIZWFkZXJSb3cpXG5cbiAgICAgIC8vIFByZXBhcmUgbmV3IHNjb3JlIHJvd3MgZm9yIGFwcGVuZGluZ1xuICAgICAgY29uc3QgbmV3Um93cyA9IHNjb3Jlcy5tYXAoKHNjb3JlKSA9PiBbXG4gICAgICAgIHNjb3JlLnNubyxcbiAgICAgICAgc2NvcmUuc3R1ZGVudE5hbWUsXG4gICAgICAgIHNjb3JlLmdyYWRlLFxuICAgICAgICBzY29yZS5wcm9qZWN0VGl0bGUsXG4gICAgICAgIHNjb3JlLnByb2plY3RJZCxcbiAgICAgICAgc2NvcmUuY3JlYXRpdml0eT8udG9TdHJpbmcoKSB8fCBcIlwiLFxuICAgICAgICBzY29yZS5zY2llbnRpZmljVGhvdWdodD8udG9TdHJpbmcoKSB8fCBcIlwiLFxuICAgICAgICBzY29yZS50ZWNobmljYWxTa2lsbHM/LnRvU3RyaW5nKCkgfHwgXCJcIixcbiAgICAgICAgc2NvcmUucHJlc2VudGF0aW9uPy50b1N0cmluZygpIHx8IFwiXCIsXG4gICAgICAgIHNjb3JlLnN0YXR1cyB8fCBcIlByZXNlbnRcIiwgLy8gSW5jbHVkZSBzdGF0dXNcbiAgICAgICAgc2NvcmUudGhlbWVGaXQgfHwgXCJcIiwgLy8gSW5jbHVkZSB0aGVtZUZpdFxuICAgICAgXSlcblxuICAgICAgLy8gQXBwZW5kIG5ldyBzY29yZXMgKG5ldmVyIG92ZXJ3cml0ZSlcbiAgICAgIGF3YWl0IHRoaXMuc2hlZXRzLnNwcmVhZHNoZWV0cy52YWx1ZXMuYXBwZW5kKHtcbiAgICAgICAgc3ByZWFkc2hlZXRJZDogY2xhc3NDb25maWcuaWQsXG4gICAgICAgIHJhbmdlOiBgJHtqdWRnZVNoZWV0TmFtZX0hQTpLYCwgLy8gVXBkYXRlZCByYW5nZSBmb3IgYXBwZW5kaW5nXG4gICAgICAgIHZhbHVlSW5wdXRPcHRpb246IFwiVVNFUl9FTlRFUkVEXCIsXG4gICAgICAgIHJlc291cmNlOiB7XG4gICAgICAgICAgdmFsdWVzOiBuZXdSb3dzLFxuICAgICAgICB9LFxuICAgICAgfSlcblxuICAgICAgY29uc29sZS5sb2coYOKchSBBcHBlbmRlZCAke25ld1Jvd3MubGVuZ3RofSBuZXcgc2NvcmUgcm93cyB0byAke2p1ZGdlU2hlZXROYW1lfWApXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGFwcGVuZGluZyBqdWRnZSBzY29yZXM6YCwgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBhcHBlbmQganVkZ2Ugc2NvcmVzIHRvIEdvb2dsZSBTaGVldHNgKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZ2V0RXhpc3RpbmdKdWRnZURhdGEoc3ByZWFkc2hlZXRJZDogc3RyaW5nLCBzaGVldE5hbWU6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nW11bXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2hlZXRzLnNwcmVhZHNoZWV0cy52YWx1ZXMuZ2V0KHtcbiAgICAgICAgc3ByZWFkc2hlZXRJZCxcbiAgICAgICAgcmFuZ2U6IGAke3NoZWV0TmFtZX0hQTpLYCwgLy8gVXBkYXRlZCByYW5nZVxuICAgICAgfSlcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLnZhbHVlcyB8fCBbXVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBTaGVldCBkb2Vzbid0IGV4aXN0IG9yIGlzIGVtcHR5XG4gICAgICByZXR1cm4gW11cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGVuc3VyZVNoZWV0RXhpc3RzKHNwcmVhZHNoZWV0SWQ6IHN0cmluZywgc2hlZXROYW1lOiBzdHJpbmcsIGhlYWRlclJvdz86IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNwcmVhZHNoZWV0ID0gYXdhaXQgdGhpcy5zaGVldHMuc3ByZWFkc2hlZXRzLmdldCh7XG4gICAgICAgIHNwcmVhZHNoZWV0SWQ6IHNwcmVhZHNoZWV0SWQsXG4gICAgICAgIGZpZWxkczogXCJzaGVldHMucHJvcGVydGllcy50aXRsZSxzaGVldHMucHJvcGVydGllcy5zaGVldElkXCIsXG4gICAgICB9KVxuXG4gICAgICBjb25zdCBzaGVldEV4aXN0cyA9IHNwcmVhZHNoZWV0LmRhdGEuc2hlZXRzPy5zb21lKChzaGVldDogYW55KSA9PiBzaGVldC5wcm9wZXJ0aWVzLnRpdGxlID09PSBzaGVldE5hbWUpXG5cbiAgICAgIGlmICghc2hlZXRFeGlzdHMpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zaGVldHMuc3ByZWFkc2hlZXRzLmJhdGNoVXBkYXRlKHtcbiAgICAgICAgICBzcHJlYWRzaGVldElkOiBzcHJlYWRzaGVldElkLFxuICAgICAgICAgIHJlc291cmNlOiB7XG4gICAgICAgICAgICByZXF1ZXN0czogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWRkU2hlZXQ6IHtcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHNoZWV0TmFtZSxcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBDcmVhdGVkIG5ldyBzaGVldDogJHtzaGVldE5hbWV9IGluIHNwcmVhZHNoZWV0ICR7c3ByZWFkc2hlZXRJZH1gKVxuXG4gICAgICAgIC8vIElmIGhlYWRlciByb3cgaXMgcHJvdmlkZWQsIHdyaXRlIGl0XG4gICAgICAgIGlmIChoZWFkZXJSb3cgJiYgaGVhZGVyUm93Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnNoZWV0cy5zcHJlYWRzaGVldHMudmFsdWVzLmFwcGVuZCh7XG4gICAgICAgICAgICBzcHJlYWRzaGVldElkOiBzcHJlYWRzaGVldElkLFxuICAgICAgICAgICAgcmFuZ2U6IGAke3NoZWV0TmFtZX0hQTFgLFxuICAgICAgICAgICAgdmFsdWVJbnB1dE9wdGlvbjogXCJVU0VSX0VOVEVSRURcIixcbiAgICAgICAgICAgIHJlc291cmNlOiB7XG4gICAgICAgICAgICAgIHZhbHVlczogW2hlYWRlclJvd10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pXG4gICAgICAgICAgY29uc29sZS5sb2coYOKchSBBZGRlZCBoZWFkZXIgdG8gbmV3IHNoZWV0OiAke3NoZWV0TmFtZX1gKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGVuc3VyaW5nIHNoZWV0ICR7c2hlZXROYW1lfSBleGlzdHMgaW4gJHtzcHJlYWRzaGVldElkfTpgLCBlcnJvcilcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGNyZWF0ZSBvciB2ZXJpZnkgc2hlZXQ6ICR7c2hlZXROYW1lfWApXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0QWxsU2hlZXRUaXRsZXMoc3ByZWFkc2hlZXRJZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2hlZXRzLnNwcmVhZHNoZWV0cy5nZXQoe1xuICAgICAgICBzcHJlYWRzaGVldElkOiBzcHJlYWRzaGVldElkLFxuICAgICAgICBmaWVsZHM6IFwic2hlZXRzLnByb3BlcnRpZXMudGl0bGVcIixcbiAgICAgIH0pXG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5zaGVldHM/Lm1hcCgoc2hlZXQ6IGFueSkgPT4gc2hlZXQucHJvcGVydGllcy50aXRsZSkgfHwgW11cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgc2hlZXQgdGl0bGVzIGZvciAke3NwcmVhZHNoZWV0SWR9OmAsIGVycm9yKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggc2hlZXQgdGl0bGVzIGZvciBzcHJlYWRzaGVldCAke3NwcmVhZHNoZWV0SWR9LmApXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZ2V0QWxsSnVkZ2VTaGVldE5hbWVzKGNsYXNzU3ByZWFkc2hlZXRJZDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICAgIGNvbnN0IGFsbFNoZWV0VGl0bGVzID0gYXdhaXQgdGhpcy5nZXRBbGxTaGVldFRpdGxlcyhjbGFzc1NwcmVhZHNoZWV0SWQpXG4gICAgcmV0dXJuIGFsbFNoZWV0VGl0bGVzLmZpbHRlcigodGl0bGUpID0+IHRpdGxlLnN0YXJ0c1dpdGgoXCJKdWRnZV9cIikpXG4gIH1cblxuICBhc3luYyBnZXRQcm9qZWN0RGV0YWlsc01hcChcbiAgICBjbGFzc05hbWU6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxNYXA8c3RyaW5nLCB7IHRpdGxlOiBzdHJpbmc7IHRoZW1lOiBzdHJpbmc7IHN0dWRlbnROYW1lczogU2V0PHN0cmluZz4gfT4+IHtcbiAgICBjb25zdCBjbGFzc0NvbmZpZyA9IHRoaXMuZ2V0Q2xhc3NDb25maWcoY2xhc3NOYW1lKVxuICAgIGlmICghY2xhc3NDb25maWcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gY29uZmlndXJhdGlvbiBmb3VuZCBmb3IgY2xhc3M6ICR7Y2xhc3NOYW1lfWApXG4gICAgfVxuXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuZ2V0U2hlZXREYXRhKGNsYXNzQ29uZmlnLmlkLCBjbGFzc0NvbmZpZy5yYW5nZSkgLy8gUmVhZHMgU2hlZXQxIUE6RlxuXG4gICAgY29uc3QgcHJvamVjdE1hcCA9IG5ldyBNYXA8c3RyaW5nLCB7IHRpdGxlOiBzdHJpbmc7IHRoZW1lOiBzdHJpbmc7IHN0dWRlbnROYW1lczogU2V0PHN0cmluZz4gfT4oKVxuICAgIGlmIChkYXRhLnZhbHVlcyAmJiBkYXRhLnZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgICAvLyBTa2lwIGhlYWRlclxuICAgICAgZGF0YS52YWx1ZXMuc2xpY2UoMSkuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IHJvd1s0XT8udHJpbSgpIC8vIENvbHVtbiBFXG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IHJvd1szXT8udHJpbSgpIC8vIENvbHVtbiBEXG4gICAgICAgIGNvbnN0IHRoZW1lID0gcm93WzVdPy50cmltKCkgLy8gQ29sdW1uIEZcbiAgICAgICAgY29uc3Qgc3R1ZGVudE5hbWUgPSByb3dbMV0/LnRyaW0oKSAvLyBDb2x1bW4gQlxuXG4gICAgICAgIGlmIChwcm9qZWN0SWQpIHtcbiAgICAgICAgICBpZiAoIXByb2plY3RNYXAuaGFzKHByb2plY3RJZCkpIHtcbiAgICAgICAgICAgIHByb2plY3RNYXAuc2V0KHByb2plY3RJZCwge1xuICAgICAgICAgICAgICB0aXRsZTogcHJvamVjdFRpdGxlIHx8IFwiXCIsXG4gICAgICAgICAgICAgIHRoZW1lOiB0aGVtZSB8fCBcIlwiLFxuICAgICAgICAgICAgICBzdHVkZW50TmFtZXM6IG5ldyBTZXQ8c3RyaW5nPigpLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHN0dWRlbnROYW1lKSB7XG4gICAgICAgICAgICBwcm9qZWN0TWFwLmdldChwcm9qZWN0SWQpPy5zdHVkZW50TmFtZXMuYWRkKHN0dWRlbnROYW1lKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIHByb2plY3RNYXBcbiAgfVxuXG4gIGFzeW5jIHByb2Nlc3NDbGFzc1Njb3JlcyhjbGFzc05hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGNsYXNzQ29uZmlnID0gdGhpcy5nZXRDbGFzc0NvbmZpZyhjbGFzc05hbWUpXG4gICAgaWYgKCFjbGFzc0NvbmZpZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBjb25maWd1cmF0aW9uIGZvdW5kIGZvciBjbGFzczogJHtjbGFzc05hbWV9YClcbiAgICB9XG5cbiAgICBjb25zdCBjbGFzc1NwcmVhZHNoZWV0SWQgPSBjbGFzc0NvbmZpZy5pZFxuICAgIGNvbnN0IHByb2plY3REZXRhaWxzTWFwID0gYXdhaXQgdGhpcy5nZXRQcm9qZWN0RGV0YWlsc01hcChjbGFzc05hbWUpXG4gICAgY29uc29sZS5sb2coYFske2NsYXNzTmFtZX1dIEZvdW5kICR7cHJvamVjdERldGFpbHNNYXAuc2l6ZX0gdW5pcXVlIHByb2plY3RzIGZyb20gQmFzZVNoZWV0LmApXG5cbiAgICBjb25zdCBqdWRnZVNoZWV0TmFtZXMgPSBhd2FpdCB0aGlzLmdldEFsbEp1ZGdlU2hlZXROYW1lcyhjbGFzc1NwcmVhZHNoZWV0SWQpXG4gICAgY29uc29sZS5sb2coYFske2NsYXNzTmFtZX1dIEZvdW5kICR7anVkZ2VTaGVldE5hbWVzLmxlbmd0aH0ganVkZ2Ugc2hlZXRzLmApXG5cbiAgICAvLyBNYXAgdG8gc3RvcmUgdGhlIGxhdGVzdCBzY29yZSBmb3IgZWFjaCBwcm9qZWN0IGJ5IGVhY2gganVkZ2VcbiAgICBjb25zdCBsYXRlc3RQcm9qZWN0U2NvcmVzQnlKdWRnZSA9IG5ldyBNYXA8c3RyaW5nLCBNYXA8c3RyaW5nLCBKdWRnZVNjb3JlPj4oKSAvLyBwcm9qZWN0SWQgLT4gKGp1ZGdlTmFtZSAtPiBsYXRlc3RTY29yZSlcblxuICAgICAgICBjb25zdCBqdWRnZVJhbmdlcyA9IGp1ZGdlU2hlZXROYW1lcy5tYXAoanVkZ2VTaGVldE5hbWUgPT4gYCR7anVkZ2VTaGVldE5hbWV9IUE6S2ApO1xuICAgIGNvbnN0IGJhdGNoRGF0YSA9IGF3YWl0IHRoaXMuYmF0Y2hHZXRTaGVldERhdGEoY2xhc3NTcHJlYWRzaGVldElkLCBqdWRnZVJhbmdlcyk7XG4gICAgXG4gICAgZm9yIChjb25zdCBqdWRnZVNoZWV0TmFtZSBvZiBqdWRnZVNoZWV0TmFtZXMpIHtcbiAgICAgIGNvbnN0IGp1ZGdlTmFtZSA9IGp1ZGdlU2hlZXROYW1lLnJlcGxhY2UoXCJKdWRnZV9cIiwgXCJcIik7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBiYXRjaERhdGFbYCR7anVkZ2VTaGVldE5hbWV9IUE6S2BdIHx8IFtdO1xuICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPD0gMSkgY29udGludWU7IC8vIHNraXAgaWYgb25seSBoZWFkZXIgb3IgZW1wdHlcbiAgICBcbiAgICAgIC8vIFBhcnNlIHNjb3JlcyBhcyBpbiBnZXRKdWRnZVNjb3Jlc1xuICAgICAgY29uc3Qgc2NvcmVzRm9ySnVkZ2UgPSB2YWx1ZXNcbiAgICAgICAgLnNsaWNlKDEpXG4gICAgICAgIC5tYXAoKHJvdykgPT4gKHtcbiAgICAgICAgICBzbm86IHJvd1swXSB8fCBcIlwiLFxuICAgICAgICAgIHN0dWRlbnROYW1lOiByb3dbMV0gfHwgXCJcIixcbiAgICAgICAgICBncmFkZTogcm93WzJdIHx8IFwiXCIsXG4gICAgICAgICAgcHJvamVjdFRpdGxlOiByb3dbM10gfHwgXCJcIixcbiAgICAgICAgICBwcm9qZWN0SWQ6IHJvd1s0XSB8fCBcIlwiLFxuICAgICAgICAgIGNyZWF0aXZpdHk6IHJvd1s1XSA/IE51bWJlci5wYXJzZUZsb2F0KHJvd1s1XSkgOiBudWxsLFxuICAgICAgICAgIHNjaWVudGlmaWNUaG91Z2h0OiByb3dbNl0gPyBOdW1iZXIucGFyc2VGbG9hdChyb3dbNl0pIDogbnVsbCxcbiAgICAgICAgICB0ZWNobmljYWxTa2lsbHM6IHJvd1s3XSA/IE51bWJlci5wYXJzZUZsb2F0KHJvd1s3XSkgOiBudWxsLFxuICAgICAgICAgIHByZXNlbnRhdGlvbjogcm93WzhdID8gTnVtYmVyLnBhcnNlRmxvYXQocm93WzhdKSA6IG51bGwsXG4gICAgICAgICAgc3RhdHVzOiByb3dbOV0gfHwgXCJQcmVzZW50XCIsXG4gICAgICAgICAgdGhlbWVGaXQ6IHJvd1sxMF0gfHwgbnVsbCxcbiAgICAgICAgfSkpO1xuICAgIFxuICAgICAgZm9yIChjb25zdCBzY29yZSBvZiBzY29yZXNGb3JKdWRnZSkge1xuICAgICAgICBjb25zdCBwSWQgPSBzY29yZS5wcm9qZWN0SWQudHJpbSgpO1xuICAgICAgICBpZiAoIWxhdGVzdFByb2plY3RTY29yZXNCeUp1ZGdlLmhhcyhwSWQpKSB7XG4gICAgICAgICAgbGF0ZXN0UHJvamVjdFNjb3Jlc0J5SnVkZ2Uuc2V0KHBJZCwgbmV3IE1hcDxzdHJpbmcsIEp1ZGdlU2NvcmU+KCkpO1xuICAgICAgICB9XG4gICAgICAgIGxhdGVzdFByb2plY3RTY29yZXNCeUp1ZGdlLmdldChwSWQpPy5zZXQoanVkZ2VOYW1lLCBzY29yZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGBbJHtjbGFzc05hbWV9XSBDb2xsZWN0ZWQgbGF0ZXN0IHNjb3JlcyBmb3IgcHJvamVjdHMgZnJvbSBlYWNoIGp1ZGdlLmApXG4gICAgY29uc29sZS5sb2coXG4gICAgICBgWyR7Y2xhc3NOYW1lfV0gbGF0ZXN0UHJvamVjdFNjb3Jlc0J5SnVkZ2UgZm9yIGEgc2FtcGxlIHByb2plY3QgKGUuZy4sIFA0MDAxKTpgLFxuICAgICAgbGF0ZXN0UHJvamVjdFNjb3Jlc0J5SnVkZ2UuZ2V0KFwiUDQwMDFcIiksXG4gICAgKVxuXG4gICAgLy8gQWdncmVnYXRlIHNjb3JlcyBwZXIgcHJvamVjdFxuICAgIGNvbnN0IHByb2plY3RBZ2dyZWdhdGVkU2NvcmVzOiB7XG4gICAgICBbcHJvamVjdElkOiBzdHJpbmddOiB7XG4gICAgICAgIHByb2plY3RUaXRsZTogc3RyaW5nXG4gICAgICAgIHRoZW1lOiBzdHJpbmdcbiAgICAgICAgY3JlYXRpdml0eVN1bTogbnVtYmVyXG4gICAgICAgIHNjaWVudGlmaWNUaG91Z2h0U3VtOiBudW1iZXJcbiAgICAgICAgdGVjaG5pY2FsU2tpbGxzU3VtOiBudW1iZXJcbiAgICAgICAgcHJlc2VudGF0aW9uU3VtOiBudW1iZXJcbiAgICAgICAganVkZ2VDb3VudDogbnVtYmVyIC8vIE51bWJlciBvZiBqdWRnZXMgd2hvIHNjb3JlZCB0aGlzIHByb2plY3QgYXMgUHJlc2VudFxuICAgICAgICBhYnNlbnRDb3VudDogbnVtYmVyIC8vIE51bWJlciBvZiBqdWRnZXMgd2hvIG1hcmtlZCB0aGlzIHByb2plY3QgQWJzZW50XG4gICAgICAgIHN0dWRlbnROYW1lczogc3RyaW5nW10gLy8gVG8gY29sbGVjdCBhbGwgc3R1ZGVudCBuYW1lcyBmb3IgdGhpcyBwcm9qZWN0XG4gICAgICB9XG4gICAgfSA9IHt9XG5cbiAgICAvLyBJbml0aWFsaXplIHByb2plY3RBZ2dyZWdhdGVkU2NvcmVzIHdpdGggZGV0YWlscyBmcm9tIEJhc2VTaGVldFxuICAgIGZvciAoY29uc3QgW3BJZCwgZGV0YWlsc10gb2YgcHJvamVjdERldGFpbHNNYXAuZW50cmllcygpKSB7XG4gICAgICBwcm9qZWN0QWdncmVnYXRlZFNjb3Jlc1twSWRdID0ge1xuICAgICAgICBwcm9qZWN0VGl0bGU6IGRldGFpbHMudGl0bGUsXG4gICAgICAgIHRoZW1lOiBkZXRhaWxzLnRoZW1lLFxuICAgICAgICBjcmVhdGl2aXR5U3VtOiAwLFxuICAgICAgICBzY2llbnRpZmljVGhvdWdodFN1bTogMCxcbiAgICAgICAgdGVjaG5pY2FsU2tpbGxzU3VtOiAwLFxuICAgICAgICBwcmVzZW50YXRpb25TdW06IDAsXG4gICAgICAgIGp1ZGdlQ291bnQ6IDAsXG4gICAgICAgIGFic2VudENvdW50OiAwLFxuICAgICAgICBzdHVkZW50TmFtZXM6IEFycmF5LmZyb20oZGV0YWlscy5zdHVkZW50TmFtZXMpLnNvcnQoKSxcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQb3B1bGF0ZSBhZ2dyZWdhdGVkIHNjb3JlcyBmcm9tIGp1ZGdlIHN1Ym1pc3Npb25zXG4gICAgZm9yIChjb25zdCBbcElkLCBqdWRnZVNjb3Jlc01hcF0gb2YgbGF0ZXN0UHJvamVjdFNjb3Jlc0J5SnVkZ2UuZW50cmllcygpKSB7XG4gICAgICBjb25zb2xlLmxvZyhgWyR7Y2xhc3NOYW1lfV0gUHJvY2Vzc2luZyBzY29yZXMgZm9yIFByb2plY3QgJHtwSWR9IGZyb20ganVkZ2VzOmAsIEFycmF5LmZyb20oanVkZ2VTY29yZXNNYXAua2V5cygpKSlcbiAgICAgIGNvbnNvbGUubG9nKGBbJHtjbGFzc05hbWV9XSBqdWRnZVNjb3Jlc01hcCBmb3IgUHJvamVjdCAke3BJZH0gaGFzICR7anVkZ2VTY29yZXNNYXAuc2l6ZX0gZW50cmllcy5gKVxuICAgICAgaWYgKCFwcm9qZWN0QWdncmVnYXRlZFNjb3Jlc1twSWRdKSB7XG4gICAgICAgIC8vIFRoaXMgcHJvamVjdCB3YXMgc2NvcmVkIGJ1dCBub3QgZm91bmQgaW4gQmFzZVNoZWV0IChlLmcuLCBpZiBCYXNlU2hlZXQgaXMgaW5jb21wbGV0ZSlcbiAgICAgICAgLy8gVHJ5IHRvIGdldCBkZXRhaWxzIGZyb20gdGhlIGZpcnN0IHNjb3JlIGVudHJ5IGZvciB0aGlzIHByb2plY3RcbiAgICAgICAgY29uc3QgZmlyc3RTY29yZSA9IEFycmF5LmZyb20oanVkZ2VTY29yZXNNYXAudmFsdWVzKCkpWzBdXG4gICAgICAgIHByb2plY3RBZ2dyZWdhdGVkU2NvcmVzW3BJZF0gPSB7XG4gICAgICAgICAgcHJvamVjdFRpdGxlOiBmaXJzdFNjb3JlPy5wcm9qZWN0VGl0bGUgfHwgXCJcIixcbiAgICAgICAgICB0aGVtZTogcHJvamVjdERldGFpbHNNYXAuZ2V0KHBJZCk/LnRoZW1lIHx8IFwiXCIsIC8vIEZhbGxiYWNrIHRvIEJhc2VTaGVldCB0aGVtZSBpZiBhdmFpbGFibGVcbiAgICAgICAgICBjcmVhdGl2aXR5U3VtOiAwLFxuICAgICAgICAgIHNjaWVudGlmaWNUaG91Z2h0U3VtOiAwLFxuICAgICAgICAgIHRlY2huaWNhbFNraWxsc1N1bTogMCxcbiAgICAgICAgICBwcmVzZW50YXRpb25TdW06IDAsXG4gICAgICAgICAganVkZ2VDb3VudDogMCxcbiAgICAgICAgICBhYnNlbnRDb3VudDogMCxcbiAgICAgICAgICBzdHVkZW50TmFtZXM6IFtdLCAvLyBDYW5ub3QgcmVsaWFibHkgZ2V0IGFsbCBzdHVkZW50IG5hbWVzIGlmIG5vdCBpbiBCYXNlU2hlZXRcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgYFske2NsYXNzTmFtZX1dIFByb2plY3QgJHtwSWR9IGZvdW5kIGluIGp1ZGdlIHNoZWV0cyBidXQgbm90IGluIEJhc2VTaGVldC4gU3R1ZGVudCBuYW1lcyBtaWdodCBiZSBpbmNvbXBsZXRlLmAsXG4gICAgICAgIClcbiAgICAgIH1cbiAgICAgIGZvciAoY29uc3QgW2p1ZGdlTmFtZSwgc2NvcmVdIG9mIGp1ZGdlU2NvcmVzTWFwLmVudHJpZXMoKSkge1xuICAgICAgICBpZiAoc2NvcmUuc3RhdHVzID09PSBcIkFic2VudFwiKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coYFske2NsYXNzTmFtZX1dIEp1ZGdlICR7anVkZ2VOYW1lfSBtYXJrZWQgUHJvamVjdCAke3BJZH0gYXMgQWJzZW50LmApXG4gICAgICAgICAgcHJvamVjdEFnZ3JlZ2F0ZWRTY29yZXNbcElkXS5hYnNlbnRDb3VudCsrXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gUHJlc2VudFxuICAgICAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICAgICAgYFske2NsYXNzTmFtZX1dIEFkZGluZyBzY29yZSBmb3IgUHJvamVjdCAke3BJZH0gYnkgSnVkZ2UgJHtqdWRnZU5hbWV9OiBDcmVhdGl2aXR5PSR7c2NvcmUuY3JlYXRpdml0eX0sIFNjaWVudGlmaWNUaG91Z2h0PSR7c2NvcmUuc2NpZW50aWZpY1Rob3VnaHR9LCBUZWNobmljYWxTa2lsbHM9JHtzY29yZS50ZWNobmljYWxTa2lsbHN9LCBQcmVzZW50YXRpb249JHtzY29yZS5wcmVzZW50YXRpb259YCxcbiAgICAgICAgICApXG4gICAgICAgICAgcHJvamVjdEFnZ3JlZ2F0ZWRTY29yZXNbcElkXS5qdWRnZUNvdW50KytcbiAgICAgICAgICBwcm9qZWN0QWdncmVnYXRlZFNjb3Jlc1twSWRdLmNyZWF0aXZpdHlTdW0gKz0gc2NvcmUuY3JlYXRpdml0eSB8fCAwXG4gICAgICAgICAgcHJvamVjdEFnZ3JlZ2F0ZWRTY29yZXNbcElkXS5zY2llbnRpZmljVGhvdWdodFN1bSArPSBzY29yZS5zY2llbnRpZmljVGhvdWdodCB8fCAwXG4gICAgICAgICAgcHJvamVjdEFnZ3JlZ2F0ZWRTY29yZXNbcElkXS50ZWNobmljYWxTa2lsbHNTdW0gKz0gc2NvcmUudGVjaG5pY2FsU2tpbGxzIHx8IDBcbiAgICAgICAgICBwcm9qZWN0QWdncmVnYXRlZFNjb3Jlc1twSWRdLnByZXNlbnRhdGlvblN1bSArPSBzY29yZS5wcmVzZW50YXRpb24gfHwgMFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKGBbJHtjbGFzc05hbWV9XSBBZ2dyZWdhdGlvbiBjb21wbGV0ZSBmb3IgcHJvamVjdCBzY29yZXMuYClcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGBbJHtjbGFzc05hbWV9XSBwcm9qZWN0QWdncmVnYXRlZFNjb3JlcyBmb3IgYSBzYW1wbGUgcHJvamVjdCAoZS5nLiwgUDQwMDEpOmAsXG4gICAgICBwcm9qZWN0QWdncmVnYXRlZFNjb3Jlc1tcIlA0MDAxXCJdLFxuICAgIClcblxuICAgIC8vIENhbGN1bGF0ZSBwcm9qZWN0IGF2ZXJhZ2VzIGFuZCBwcmVwYXJlIHJvd3MgZm9yIFwiU2NvcmVcIiB0YWJcbiAgICBjb25zdCBzY29yZVRhYlJvd3M6IHN0cmluZ1tdW10gPSBbXVxuICAgIHNjb3JlVGFiUm93cy5wdXNoKFtcbiAgICAgIFwiUHJvamVjdCBJRFwiLFxuICAgICAgXCJQcm9qZWN0IFRpdGxlXCIsXG4gICAgICBcIlRoZW1lXCIsXG4gICAgICBcIkF2ZyBDcmVhdGl2aXR5XCIsXG4gICAgICBcIkF2ZyBTY2llbnRpZmljIFRob3VnaHRcIixcbiAgICAgIFwiQXZnIFRlY2huaWNhbCBTa2lsbHNcIixcbiAgICAgIFwiQXZnIFByZXNlbnRhdGlvblwiLFxuICAgICAgXCJQcm9qZWN0IEF2ZXJhZ2UgU2NvcmVcIixcbiAgICAgIFwiU3R1ZGVudCBOYW1lc1wiLFxuICAgIF0pIC8vIE5ldyBIZWFkZXIgZm9yIFNjb3JlIHRhYlxuXG4gICAgY29uc3QgcHJvamVjdHNGb3JTY29yZVRhYjogQXJyYXk8e1xuICAgICAgcHJvamVjdElkOiBzdHJpbmdcbiAgICAgIHByb2plY3RUaXRsZTogc3RyaW5nXG4gICAgICB0aGVtZTogc3RyaW5nXG4gICAgICBhdmdDcmVhdGl2aXR5OiBudW1iZXJcbiAgICAgIGF2Z1NjaWVudGlmaWNUaG91Z2h0OiBudW1iZXJcbiAgICAgIGF2Z1RlY2huaWNhbFNraWxsczogbnVtYmVyXG4gICAgICBhdmdQcmVzZW50YXRpb246IG51bWJlclxuICAgICAgcHJvamVjdEF2Z1Njb3JlOiBudW1iZXJcbiAgICAgIHN0dWRlbnROYW1lczogc3RyaW5nXG4gICAgfT4gPSBbXVxuXG4gICAgZm9yIChjb25zdCBwSWQgaW4gcHJvamVjdEFnZ3JlZ2F0ZWRTY29yZXMpIHtcbiAgICAgIGNvbnN0IHByb2plY3REYXRhID0gcHJvamVjdEFnZ3JlZ2F0ZWRTY29yZXNbcElkXVxuICAgICAgbGV0IGF2Z0NyZWF0aXZpdHkgPSAwXG4gICAgICBsZXQgYXZnU2NpZW50aWZpY1Rob3VnaHQgPSAwXG4gICAgICBsZXQgYXZnVGVjaG5pY2FsU2tpbGxzID0gMFxuICAgICAgbGV0IGF2Z1ByZXNlbnRhdGlvbiA9IDBcbiAgICAgIGxldCBwcm9qZWN0QXZnU2NvcmUgPSAwXG5cbiAgICAgIGlmIChwcm9qZWN0RGF0YS5qdWRnZUNvdW50ID4gMCkge1xuICAgICAgICBhdmdDcmVhdGl2aXR5ID0gcHJvamVjdERhdGEuY3JlYXRpdml0eVN1bSAvIHByb2plY3REYXRhLmp1ZGdlQ291bnRcbiAgICAgICAgYXZnU2NpZW50aWZpY1Rob3VnaHQgPSBwcm9qZWN0RGF0YS5zY2llbnRpZmljVGhvdWdodFN1bSAvIHByb2plY3REYXRhLmp1ZGdlQ291bnRcbiAgICAgICAgYXZnVGVjaG5pY2FsU2tpbGxzID0gcHJvamVjdERhdGEudGVjaG5pY2FsU2tpbGxzU3VtIC8gcHJvamVjdERhdGEuanVkZ2VDb3VudFxuICAgICAgICBhdmdQcmVzZW50YXRpb24gPSBwcm9qZWN0RGF0YS5wcmVzZW50YXRpb25TdW0gLyBwcm9qZWN0RGF0YS5qdWRnZUNvdW50XG4gICAgICAgIHByb2plY3RBdmdTY29yZSA9IChhdmdDcmVhdGl2aXR5ICsgYXZnU2NpZW50aWZpY1Rob3VnaHQgKyBhdmdUZWNobmljYWxTa2lsbHMgKyBhdmdQcmVzZW50YXRpb24pIC8gNFxuICAgICAgfSBlbHNlIGlmIChwcm9qZWN0RGF0YS5hYnNlbnRDb3VudCA+IDAgJiYgcHJvamVjdERhdGEuanVkZ2VDb3VudCA9PT0gMCkge1xuICAgICAgICAvLyBBbGwganVkZ2VzIG1hcmtlZCBwcm9qZWN0IGFic2VudCwgc28gYWxsIHNjb3JlcyBhcmUgMFxuICAgICAgICBhdmdDcmVhdGl2aXR5ID0gMFxuICAgICAgICBhdmdTY2llbnRpZmljVGhvdWdodCA9IDBcbiAgICAgICAgYXZnVGVjaG5pY2FsU2tpbGxzID0gMFxuICAgICAgICBhdmdQcmVzZW50YXRpb24gPSAwXG4gICAgICAgIHByb2plY3RBdmdTY29yZSA9IDBcbiAgICAgIH1cbiAgICAgIC8vIElmIG5vIGp1ZGdlcyBzY29yZWQgdGhlIHByb2plY3QgKGp1ZGdlQ291bnQgYW5kIGFic2VudENvdW50IGFyZSAwKSwgYWxsIGF2ZXJhZ2VzIHJlbWFpbiAwIChpbml0aWFsaXplZClcblxuICAgICAgcHJvamVjdHNGb3JTY29yZVRhYi5wdXNoKHtcbiAgICAgICAgcHJvamVjdElkOiBwSWQsXG4gICAgICAgIHByb2plY3RUaXRsZTogcHJvamVjdERhdGEucHJvamVjdFRpdGxlLFxuICAgICAgICB0aGVtZTogcHJvamVjdERhdGEudGhlbWUsXG4gICAgICAgIGF2Z0NyZWF0aXZpdHk6IGF2Z0NyZWF0aXZpdHksXG4gICAgICAgIGF2Z1NjaWVudGlmaWNUaG91Z2h0OiBhdmdTY2llbnRpZmljVGhvdWdodCxcbiAgICAgICAgYXZnVGVjaG5pY2FsU2tpbGxzOiBhdmdUZWNobmljYWxTa2lsbHMsXG4gICAgICAgIGF2Z1ByZXNlbnRhdGlvbjogYXZnUHJlc2VudGF0aW9uLFxuICAgICAgICBwcm9qZWN0QXZnU2NvcmU6IHByb2plY3RBdmdTY29yZSxcbiAgICAgICAgc3R1ZGVudE5hbWVzOiBwcm9qZWN0RGF0YS5zdHVkZW50TmFtZXMuam9pbihcIiwgXCIpLCAvLyBKb2luIHN0dWRlbnQgbmFtZXNcbiAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gU29ydCBwcm9qZWN0cyBmb3IgdGhlIFNjb3JlIHRhYiBieSBQcm9qZWN0IElEIGZvciBjb25zaXN0ZW50IG9yZGVyaW5nXG4gICAgcHJvamVjdHNGb3JTY29yZVRhYi5zb3J0KChhLCBiKSA9PiBhLnByb2plY3RJZC5sb2NhbGVDb21wYXJlKGIucHJvamVjdElkKSlcblxuICAgIHByb2plY3RzRm9yU2NvcmVUYWIuZm9yRWFjaCgocHJvamVjdCkgPT4ge1xuICAgICAgc2NvcmVUYWJSb3dzLnB1c2goW1xuICAgICAgICBwcm9qZWN0LnByb2plY3RJZCxcbiAgICAgICAgcHJvamVjdC5wcm9qZWN0VGl0bGUsXG4gICAgICAgIHByb2plY3QudGhlbWUsXG4gICAgICAgIHByb2plY3QuYXZnQ3JlYXRpdml0eS50b0ZpeGVkKDIpLFxuICAgICAgICBwcm9qZWN0LmF2Z1NjaWVudGlmaWNUaG91Z2h0LnRvRml4ZWQoMiksXG4gICAgICAgIHByb2plY3QuYXZnVGVjaG5pY2FsU2tpbGxzLnRvRml4ZWQoMiksXG4gICAgICAgIHByb2plY3QuYXZnUHJlc2VudGF0aW9uLnRvRml4ZWQoMiksXG4gICAgICAgIHByb2plY3QucHJvamVjdEF2Z1Njb3JlLnRvRml4ZWQoMiksXG4gICAgICAgIHByb2plY3Quc3R1ZGVudE5hbWVzLFxuICAgICAgXSlcbiAgICB9KVxuICAgIGNvbnNvbGUubG9nKGBbJHtjbGFzc05hbWV9XSBQcmVwYXJlZCAke3Njb3JlVGFiUm93cy5sZW5ndGggLSAxfSByb3dzIGZvciBcIlNjb3JlXCIgdGFiIChleGNsdWRpbmcgaGVhZGVyKS5gKVxuICAgIGNvbnNvbGUubG9nKGBbJHtjbGFzc05hbWV9XSBGaW5hbCBzY29yZVRhYlJvd3MgYmVmb3JlIHdyaXRpbmc6YCwgc2NvcmVUYWJSb3dzKVxuXG4gICAgY29uc3Qgc2NvcmVTaGVldE5hbWUgPSBcIlNjb3JlXCJcbiAgICBhd2FpdCB0aGlzLmVuc3VyZVNoZWV0RXhpc3RzKGNsYXNzU3ByZWFkc2hlZXRJZCwgc2NvcmVTaGVldE5hbWUsIHNjb3JlVGFiUm93c1swXSkgLy8gUGFzcyBoZWFkZXIgZm9yIGNyZWF0aW9uXG5cbiAgICAvLyBDbGVhciBleGlzdGluZyBjb250ZW50IGJlZm9yZSB3cml0aW5nIG5ldyBkYXRhIChleGNsdWRpbmcgaGVhZGVyKVxuICAgIGF3YWl0IHRoaXMuc2hlZXRzLnNwcmVhZHNoZWV0cy52YWx1ZXMuY2xlYXIoe1xuICAgICAgc3ByZWFkc2hlZXRJZDogY2xhc3NTcHJlYWRzaGVldElkLFxuICAgICAgcmFuZ2U6IGAke3Njb3JlU2hlZXROYW1lfSFBMjpJYCwgLy8gQ2xlYXIgZnJvbSByb3cgMiBvbndhcmRzLCB1cCB0byBjb2x1bW4gSVxuICAgIH0pXG5cbiAgICAvLyBXcml0ZSBuZXcgZGF0YSAoaW5jbHVkaW5nIGhlYWRlcilcbiAgICBpZiAoc2NvcmVUYWJSb3dzLmxlbmd0aCA+IDEpIHtcbiAgICAgIC8vIE9ubHkgdXBkYXRlIGlmIHRoZXJlJ3MgZGF0YSBiZXlvbmQgdGhlIGhlYWRlclxuICAgICAgYXdhaXQgdGhpcy5zaGVldHMuc3ByZWFkc2hlZXRzLnZhbHVlcy51cGRhdGUoe1xuICAgICAgICBzcHJlYWRzaGVldElkOiBjbGFzc1NwcmVhZHNoZWV0SWQsXG4gICAgICAgIHJhbmdlOiBgJHtzY29yZVNoZWV0TmFtZX0hQTFgLCAvLyBTdGFydCBmcm9tIEExIHRvIGluY2x1ZGUgaGVhZGVyXG4gICAgICAgIHZhbHVlSW5wdXRPcHRpb246IFwiVVNFUl9FTlRFUkVEXCIsXG4gICAgICAgIHJlc291cmNlOiB7XG4gICAgICAgICAgdmFsdWVzOiBzY29yZVRhYlJvd3MsXG4gICAgICAgIH0sXG4gICAgICB9KVxuICAgICAgY29uc29sZS5sb2coYOKchSBVcGRhdGVkIFwiU2NvcmVcIiB0YWIgZm9yICR7Y2xhc3NOYW1lfSB3aXRoICR7c2NvcmVUYWJSb3dzLmxlbmd0aCAtIDF9IHByb2plY3QgYXZlcmFnZSBlbnRyaWVzLmApXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbJHtjbGFzc05hbWV9XSBObyBwcm9qZWN0IGF2ZXJhZ2Ugc2NvcmVzIHRvIHdyaXRlIHRvIFwiU2NvcmVcIiB0YWIuYClcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRUb3BQcm9qZWN0cyhjbGFzc05hbWU6IHN0cmluZyk6IFByb21pc2U8XG4gICAgQXJyYXk8e1xuICAgICAgcHJvamVjdElkOiBzdHJpbmdcbiAgICAgIHByb2plY3RUaXRsZTogc3RyaW5nXG4gICAgICB0aGVtZTogc3RyaW5nXG4gICAgICBwcm9qZWN0QXZnU2NvcmU6IG51bWJlclxuICAgICAgc3RhbmRhcmQ6IHN0cmluZ1xuICAgICAgcmFuazogbnVtYmVyXG4gICAgICBzdHVkZW50TmFtZXM6IHN0cmluZ1xuICAgIH0+XG4gID4ge1xuICAgIGNvbnN0IGNsYXNzQ29uZmlnID0gdGhpcy5nZXRDbGFzc0NvbmZpZyhjbGFzc05hbWUpXG4gICAgaWYgKCFjbGFzc0NvbmZpZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBjb25maWd1cmF0aW9uIGZvdW5kIGZvciBjbGFzczogJHtjbGFzc05hbWV9YClcbiAgICB9XG5cbiAgICBjb25zdCBzY29yZVNoZWV0TmFtZSA9IFwiU2NvcmVcIlxuICAgIGNvbnN0IHNjb3JlUmFuZ2UgPSBgJHtzY29yZVNoZWV0TmFtZX0hQTpJYCAvLyBVcGRhdGVkIHJhbmdlIGZvciBuZXcgU2NvcmUgdGFiIGNvbHVtbnNcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5nZXRTaGVldERhdGEoY2xhc3NDb25maWcuaWQsIHNjb3JlUmFuZ2UpXG4gICAgICBjb25zb2xlLmxvZyhgWyR7Y2xhc3NOYW1lfV0gUmVhZCBcIlNjb3JlXCIgdGFiIGZvciB0b3AgcHJvamVjdHMuIFJvd3MgZmV0Y2hlZDogJHtkYXRhLnZhbHVlcy5sZW5ndGh9LmApXG5cbiAgICAgIGlmICghZGF0YS52YWx1ZXMgfHwgZGF0YS52YWx1ZXMubGVuZ3RoIDw9IDEpIHtcbiAgICAgICAgLy8gTm8gZGF0YSBvciBvbmx5IGhlYWRlclxuICAgICAgICBjb25zb2xlLmxvZyhgWyR7Y2xhc3NOYW1lfV0gXCJTY29yZVwiIHRhYiBpcyBlbXB0eSBvciBvbmx5IGhhcyBoZWFkZXIuIE5vIHByb2plY3RzIHRvIHJhbmsuYClcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHByb2plY3RzOiBBcnJheTx7XG4gICAgICAgIHByb2plY3RJZDogc3RyaW5nXG4gICAgICAgIHByb2plY3RUaXRsZTogc3RyaW5nXG4gICAgICAgIHRoZW1lOiBzdHJpbmdcbiAgICAgICAgcHJvamVjdEF2Z1Njb3JlOiBudW1iZXJcbiAgICAgICAgc3R1ZGVudE5hbWVzOiBzdHJpbmdcbiAgICAgIH0+ID0gW11cblxuICAgICAgZGF0YS52YWx1ZXMuc2xpY2UoMSkuZm9yRWFjaCgocm93KSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2plY3RJZCA9IHJvd1swXT8udHJpbSgpIC8vIFByb2plY3QgSUQgaXMgbm93IGNvbHVtbiBBXG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IHJvd1sxXT8udHJpbSgpIC8vIFByb2plY3QgVGl0bGUgaXMgbm93IGNvbHVtbiBCXG4gICAgICAgIGNvbnN0IHRoZW1lID0gcm93WzJdPy50cmltKCkgLy8gVGhlbWUgaXMgbm93IGNvbHVtbiBDXG4gICAgICAgIGNvbnN0IHByb2plY3RBdmdTY29yZSA9IE51bWJlci5wYXJzZUZsb2F0KHJvd1s3XSkgfHwgMCAvLyBQcm9qZWN0IEF2ZXJhZ2UgU2NvcmUgaXMgbm93IGNvbHVtbiBIIChpbmRleCA3KVxuICAgICAgICBjb25zdCBzdHVkZW50TmFtZXMgPSByb3dbOF0/LnRyaW0oKSB8fCBcIlwiIC8vIFN0dWRlbnQgTmFtZXMgaXMgbm93IGNvbHVtbiBJIChpbmRleCA4KVxuXG4gICAgICAgIGlmIChwcm9qZWN0SWQpIHtcbiAgICAgICAgICBwcm9qZWN0cy5wdXNoKHtcbiAgICAgICAgICAgIHByb2plY3RJZDogcHJvamVjdElkLFxuICAgICAgICAgICAgcHJvamVjdFRpdGxlOiBwcm9qZWN0VGl0bGUsXG4gICAgICAgICAgICB0aGVtZTogdGhlbWUsXG4gICAgICAgICAgICBwcm9qZWN0QXZnU2NvcmU6IHByb2plY3RBdmdTY29yZSxcbiAgICAgICAgICAgIHN0dWRlbnROYW1lczogc3R1ZGVudE5hbWVzLFxuICAgICAgICAgIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICAgYFske2NsYXNzTmFtZX1dIFNraXBwaW5nIHJvdyBpbiBcIlNjb3JlXCIgdGFiIGZvciB0b3AgcHJvamVjdHMgZHVlIHRvIG1pc3NpbmcgUHJvamVjdCBJRDogJHtyb3cuam9pbihcIiwgXCIpfWAsXG4gICAgICAgICAgKVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgY29uc29sZS5sb2coYFske2NsYXNzTmFtZX1dIFBhcnNlZCAke3Byb2plY3RzLmxlbmd0aH0gcHJvamVjdHMgZnJvbSBcIlNjb3JlXCIgdGFiLmApXG5cbiAgICAgIC8vIFNvcnQgYnkgcHJvamVjdCBhdmVyYWdlIHNjb3JlIGRlc2NlbmRpbmdcbiAgICAgIHByb2plY3RzLnNvcnQoKGEsIGIpID0+IGIucHJvamVjdEF2Z1Njb3JlIC0gYS5wcm9qZWN0QXZnU2NvcmUpXG4gICAgICBjb25zb2xlLmxvZyhgWyR7Y2xhc3NOYW1lfV0gUHJvamVjdHMgc29ydGVkIGJ5IGF2ZXJhZ2Ugc2NvcmUuYClcblxuICAgICAgY29uc3QgdG9wUHJvamVjdHM6IEFycmF5PHtcbiAgICAgICAgcHJvamVjdElkOiBzdHJpbmdcbiAgICAgICAgcHJvamVjdFRpdGxlOiBzdHJpbmdcbiAgICAgICAgdGhlbWU6IHN0cmluZ1xuICAgICAgICBwcm9qZWN0QXZnU2NvcmU6IG51bWJlclxuICAgICAgICBzdGFuZGFyZDogc3RyaW5nXG4gICAgICAgIHJhbms6IG51bWJlclxuICAgICAgICBzdHVkZW50TmFtZXM6IHN0cmluZ1xuICAgICAgfT4gPSBbXVxuICAgICAgbGV0IGN1cnJlbnRSYW5rID0gMVxuICAgICAgbGV0IHByb2plY3RzQWRkZWQgPSAwXG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcHJvamVjdCA9IHByb2plY3RzW2ldXG4gICAgICAgIGlmIChwcm9qZWN0c0FkZGVkIDwgMykge1xuICAgICAgICAgIHRvcFByb2plY3RzLnB1c2goeyAuLi5wcm9qZWN0LCBzdGFuZGFyZDogY2xhc3NOYW1lLCByYW5rOiBjdXJyZW50UmFuayB9KVxuICAgICAgICAgIHByb2plY3RzQWRkZWQrK1xuICAgICAgICB9IGVsc2UgaWYgKHByb2plY3QucHJvamVjdEF2Z1Njb3JlID09PSB0b3BQcm9qZWN0c1t0b3BQcm9qZWN0cy5sZW5ndGggLSAxXS5wcm9qZWN0QXZnU2NvcmUpIHtcbiAgICAgICAgICAvLyBIYW5kbGUgdGllcyBmb3IgM3JkIHBsYWNlXG4gICAgICAgICAgdG9wUHJvamVjdHMucHVzaCh7IC4uLnByb2plY3QsIHN0YW5kYXJkOiBjbGFzc05hbWUsIHJhbms6IGN1cnJlbnRSYW5rIH0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYnJlYWsgLy8gU3RvcCBhZnRlciB0b3AgMyAoYW5kIHRpZXMpXG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIHJhbmsgZm9yIG5leHQgZGlzdGluY3Qgc2NvcmUsIG9ubHkgaWYgY3VycmVudCBwcm9qZWN0J3Mgc2NvcmUgaXMgZGlmZmVyZW50IGZyb20gdGhlIGxhc3QgYWRkZWQgcHJvamVjdCdzIHNjb3JlXG4gICAgICAgIGlmIChpIDwgcHJvamVjdHMubGVuZ3RoIC0gMSAmJiBwcm9qZWN0c1tpICsgMV0ucHJvamVjdEF2Z1Njb3JlIDwgcHJvamVjdC5wcm9qZWN0QXZnU2NvcmUpIHtcbiAgICAgICAgICBjdXJyZW50UmFuayA9IHRvcFByb2plY3RzLmxlbmd0aCArIDFcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coYFske2NsYXNzTmFtZX1dIElkZW50aWZpZWQgJHt0b3BQcm9qZWN0cy5sZW5ndGh9IHRvcCBwcm9qZWN0cy5gKVxuICAgICAgcmV0dXJuIHRvcFByb2plY3RzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGdldHRpbmcgdG9wIHByb2plY3RzIGZvciAke2NsYXNzTmFtZX06YCwgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBnZXQgdG9wIHByb2plY3RzIGZvciAke2NsYXNzTmFtZX0uYClcbiAgICB9XG4gIH1cblxuICBhc3luYyB1cGRhdGVBZG1pblN1bW1hcnkoXG4gICAgc3VtbWFyeURhdGE6IEFycmF5PHtcbiAgICAgIHN0YW5kYXJkOiBzdHJpbmdcbiAgICAgIHJhbms6IG51bWJlclxuICAgICAgcHJvamVjdElkOiBzdHJpbmdcbiAgICAgIHByb2plY3RUaXRsZTogc3RyaW5nXG4gICAgICB0aGVtZTogc3RyaW5nXG4gICAgICBwcm9qZWN0QXZnU2NvcmU6IG51bWJlclxuICAgICAgc3R1ZGVudE5hbWVzOiBzdHJpbmdcbiAgICB9PixcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgYWRtaW5NYXN0ZXJTaGVldElkID0gU1BSRUFEU0hFRVRfQ09ORklHLkFETUlOX01BU1RFUi5pZFxuICAgIGNvbnN0IHN1bW1hcnlTaGVldE5hbWUgPSBcIlN1bW1hcnlcIlxuICAgIGNvbnN0IHN1bW1hcnlIZWFkZXIgPSBbXG4gICAgICBcIlN0YW5kYXJkXCIsXG4gICAgICBcIlJhbmtcIixcbiAgICAgIFwiUHJvamVjdCBJRFwiLFxuICAgICAgXCJQcm9qZWN0IFRpdGxlXCIsXG4gICAgICBcIlRoZW1lXCIsXG4gICAgICBcIlByb2plY3QgQXZnIFNjb3JlXCIsXG4gICAgICBcIlN0dWRlbnQgTmFtZXNcIixcbiAgICBdIC8vIEFkZGVkIFN0dWRlbnQgTmFtZXNcblxuICAgIGF3YWl0IHRoaXMuZW5zdXJlU2hlZXRFeGlzdHMoYWRtaW5NYXN0ZXJTaGVldElkLCBzdW1tYXJ5U2hlZXROYW1lLCBzdW1tYXJ5SGVhZGVyKVxuXG4gICAgLy8gQ2xlYXIgZXhpc3RpbmcgY29udGVudCBpbiBTdW1tYXJ5IHRhYiAoZXhjbHVkaW5nIGhlYWRlcilcbiAgICBhd2FpdCB0aGlzLnNoZWV0cy5zcHJlYWRzaGVldHMudmFsdWVzLmNsZWFyKHtcbiAgICAgIHNwcmVhZHNoZWV0SWQ6IGFkbWluTWFzdGVyU2hlZXRJZCxcbiAgICAgIHJhbmdlOiBgJHtzdW1tYXJ5U2hlZXROYW1lfSFBMjpHYCwgLy8gVXBkYXRlZCByYW5nZSBmb3IgY2xlYXJpbmcgKEEtRyBmb3IgNyBjb2x1bW5zKVxuICAgIH0pXG5cbiAgICBpZiAoc3VtbWFyeURhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIk5vIHN1bW1hcnkgZGF0YSB0byBhcHBlbmQgdG8gQWRtaW4gTWFzdGVyIFNoZWV0LlwiKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY29uc3Qgcm93c1RvQXBwZW5kID0gc3VtbWFyeURhdGEubWFwKChkYXRhKSA9PiBbXG4gICAgICBkYXRhLnN0YW5kYXJkLFxuICAgICAgZGF0YS5yYW5rLnRvU3RyaW5nKCksXG4gICAgICBkYXRhLnByb2plY3RJZCxcbiAgICAgIGRhdGEucHJvamVjdFRpdGxlLFxuICAgICAgZGF0YS50aGVtZSxcbiAgICAgIGRhdGEucHJvamVjdEF2Z1Njb3JlLnRvRml4ZWQoMiksXG4gICAgICBkYXRhLnN0dWRlbnROYW1lcywgLy8gSW5jbHVkZSBzdHVkZW50IG5hbWVzXG4gICAgXSlcblxuICAgIGF3YWl0IHRoaXMuc2hlZXRzLnNwcmVhZHNoZWV0cy52YWx1ZXMuYXBwZW5kKHtcbiAgICAgIHNwcmVhZHNoZWV0SWQ6IGFkbWluTWFzdGVyU2hlZXRJZCxcbiAgICAgIHJhbmdlOiBgJHtzdW1tYXJ5U2hlZXROYW1lfSFBMmAsIC8vIEFwcGVuZCBzdGFydGluZyBmcm9tIEEyIChhZnRlciBoZWFkZXIpXG4gICAgICB2YWx1ZUlucHV0T3B0aW9uOiBcIlVTRVJfRU5URVJFRFwiLFxuICAgICAgcmVzb3VyY2U6IHtcbiAgICAgICAgdmFsdWVzOiByb3dzVG9BcHBlbmQsXG4gICAgICB9LFxuICAgIH0pXG4gICAgY29uc29sZS5sb2coYOKchSBBcHBlbmRlZCAke3Jvd3NUb0FwcGVuZC5sZW5ndGh9IHJvd3MgdG8gXCJTdW1tYXJ5XCIgdGFiIGluIEFkbWluIE1hc3RlciBTaGVldC5gKVxuICB9XG5cbiAgZ2V0Q2xhc3NDb25maWcoY2xhc3NOYW1lOiBzdHJpbmcpOiBDbGFzc0NvbmZpZyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIFNQUkVBRFNIRUVUX0NPTkZJRy5DTEFTU0VTW2NsYXNzTmFtZSBhcyBrZXlvZiB0eXBlb2YgU1BSRUFEU0hFRVRfQ09ORklHLkNMQVNTRVNdXG4gIH1cblxuICBnZXRTcHJlYWRzaGVldElkKGNsYXNzTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBjb25zdCBjbGFzc0NvbmZpZyA9IHRoaXMuZ2V0Q2xhc3NDb25maWcoY2xhc3NOYW1lKVxuICAgIHJldHVybiBjbGFzc0NvbmZpZz8uaWQgfHwgXCJcIlxuICB9XG5cbiAgLy8gTmV3IGZ1bmN0aW9uIHRvIHVwZGF0ZSBhIGNsYXNzJ3Mgc3ByZWFkc2hlZXQgSURcbiAgdXBkYXRlQ2xhc3NTcHJlYWRzaGVldElkKGNsYXNzTmFtZTogc3RyaW5nLCBuZXdJZDogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKFNQUkVBRFNIRUVUX0NPTkZJRy5DTEFTU0VTW2NsYXNzTmFtZSBhcyBrZXlvZiB0eXBlb2YgU1BSRUFEU0hFRVRfQ09ORklHLkNMQVNTRVNdKSB7XG4gICAgICAvLyBVcGRhdGUgaW4tbWVtb3J5IGNvbmZpZ1xuICAgICAgU1BSRUFEU0hFRVRfQ09ORklHID0ge1xuICAgICAgICAuLi5TUFJFQURTSEVFVF9DT05GSUcsXG4gICAgICAgIENMQVNTRVM6IHtcbiAgICAgICAgICAuLi5TUFJFQURTSEVFVF9DT05GSUcuQ0xBU1NFUyxcbiAgICAgICAgICBbY2xhc3NOYW1lXToge1xuICAgICAgICAgICAgLi4uU1BSRUFEU0hFRVRfQ09ORklHLkNMQVNTRVNbY2xhc3NOYW1lIGFzIGtleW9mIHR5cGVvZiBTUFJFQURTSEVFVF9DT05GSUcuQ0xBU1NFU10sXG4gICAgICAgICAgICBpZDogbmV3SWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICAgIC8vIFBlcnNpc3QgdG8gZmlsZVxuICAgICAgY29uc3QgaWRzID0gbG9hZENsYXNzU2hlZXRJZHMoKVxuICAgICAgaWRzW2NsYXNzTmFtZV0gPSBuZXdJZFxuICAgICAgc2F2ZUNsYXNzU2hlZXRJZHMoaWRzKVxuICAgICAgY29uc29sZS5sb2coYFtCYWNrZW5kIFNpbXVsYXRpb25dIFVwZGF0ZWQgU1BSRUFEU0hFRVRfQ09ORklHIGZvciAke2NsYXNzTmFtZX0gdG8gSUQ6ICR7bmV3SWR9IGFuZCBwZXJzaXN0ZWQgdG8gZmlsZWApXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybihgW0JhY2tlbmQgU2ltdWxhdGlvbl0gQ2xhc3MgJHtjbGFzc05hbWV9IG5vdCBmb3VuZCBpbiBTUFJFQURTSEVFVF9DT05GSUcuYClcbiAgICB9XG4gIH1cbn1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGdvb2dsZVNoZWV0c1NlcnZpY2UgPSBuZXcgR29vZ2xlU2hlZXRzU2VydmljZSgpXG4iXSwibmFtZXMiOlsiR29vZ2xlQXV0aCIsImdvb2dsZSIsImZzIiwicGF0aCIsIkNMQVNTX1NIRUVUX0lEU19QQVRIIiwicmVzb2x2ZSIsInByb2Nlc3MiLCJjd2QiLCJsb2FkQ2xhc3NTaGVldElkcyIsInJhdyIsInJlYWRGaWxlU3luYyIsIkpTT04iLCJwYXJzZSIsInNhdmVDbGFzc1NoZWV0SWRzIiwiaWRzIiwid3JpdGVGaWxlU3luYyIsInN0cmluZ2lmeSIsIkdPT0dMRV9TSEVFVFNfQ09ORklHIiwic2VydmljZUFjY291bnRLZXlQYXRoIiwiZW52IiwiR09PR0xFX1NFUlZJQ0VfQUNDT1VOVF9LRVlfUEFUSCIsInNjb3BlcyIsInBlcnNpc3RlZElkcyIsIlNQUkVBRFNIRUVUX0NPTkZJRyIsIkNSRURFTlRJQUxTIiwiaWQiLCJDUkVERU5USUFMU19TUFJFQURTSEVFVF9JRCIsInJhbmdlIiwiQURNSU5fTUFTVEVSIiwiQURNSU5fTUFTVEVSX1NQUkVBRFNIRUVUX0lEIiwiQ0xBU1NFUyIsImJhc2VTaGVldCIsIkdvb2dsZVNoZWV0c1NlcnZpY2UiLCJjb25zdHJ1Y3RvciIsIkdPT0dMRV9TRVJWSUNFX0FDQ09VTlRfS0VZX0JBU0U2NCIsImtleURhdGEiLCJCdWZmZXIiLCJmcm9tIiwidG9TdHJpbmciLCJrZXlQYXRoIiwiYXV0aCIsImtleUZpbGUiLCJzaGVldHMiLCJ2ZXJzaW9uIiwiZ2V0U2hlZXREYXRhIiwic3ByZWFkc2hlZXRJZCIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsInNwcmVhZHNoZWV0cyIsInZhbHVlcyIsImdldCIsImRhdGEiLCJlcnJvciIsIkVycm9yIiwiYmF0Y2hHZXRTaGVldERhdGEiLCJyYW5nZXMiLCJiYXRjaEdldCIsInJlc3VsdCIsInZhbHVlUmFuZ2VzIiwiZm9yRWFjaCIsInZhbHVlUmFuZ2UiLCJnZXRDcmVkZW50aWFscyIsImxlbmd0aCIsInNsaWNlIiwibWFwIiwicm93IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInJvbGUiLCJmaWx0ZXIiLCJjcmVkIiwiZ2V0UHJvamVjdElkcyIsImNsYXNzTmFtZSIsImNsYXNzQ29uZmlnIiwiZ2V0Q2xhc3NDb25maWciLCJwcm9qZWN0SWRzIiwidHJpbSIsIlNldCIsImdldFN0dWRlbnRzQnlQcm9qZWN0SWQiLCJwcm9qZWN0SWQiLCJzdHVkZW50cyIsInNubyIsInN0dWRlbnROYW1lIiwiZ3JhZGUiLCJwcm9qZWN0VGl0bGUiLCJ0aGVtZSIsInN0dWRlbnQiLCJnZXRKdWRnZVNjb3JlcyIsImp1ZGdlTmFtZSIsImp1ZGdlU2hlZXROYW1lIiwianVkZ2VSYW5nZSIsInNjb3JlcyIsImNyZWF0aXZpdHkiLCJOdW1iZXIiLCJwYXJzZUZsb2F0Iiwic2NpZW50aWZpY1Rob3VnaHQiLCJ0ZWNobmljYWxTa2lsbHMiLCJwcmVzZW50YXRpb24iLCJzdGF0dXMiLCJ0aGVtZUZpdCIsInNjb3JlIiwic2F2ZUp1ZGdlU2NvcmVzIiwianVkZ2VIZWFkZXJSb3ciLCJlbnN1cmVTaGVldEV4aXN0cyIsIm5ld1Jvd3MiLCJhcHBlbmQiLCJ2YWx1ZUlucHV0T3B0aW9uIiwicmVzb3VyY2UiLCJnZXRFeGlzdGluZ0p1ZGdlRGF0YSIsInNoZWV0TmFtZSIsImhlYWRlclJvdyIsInNwcmVhZHNoZWV0IiwiZmllbGRzIiwic2hlZXRFeGlzdHMiLCJzb21lIiwic2hlZXQiLCJwcm9wZXJ0aWVzIiwidGl0bGUiLCJiYXRjaFVwZGF0ZSIsInJlcXVlc3RzIiwiYWRkU2hlZXQiLCJnZXRBbGxTaGVldFRpdGxlcyIsImdldEFsbEp1ZGdlU2hlZXROYW1lcyIsImNsYXNzU3ByZWFkc2hlZXRJZCIsImFsbFNoZWV0VGl0bGVzIiwic3RhcnRzV2l0aCIsImdldFByb2plY3REZXRhaWxzTWFwIiwicHJvamVjdE1hcCIsIk1hcCIsImhhcyIsInNldCIsInN0dWRlbnROYW1lcyIsImFkZCIsInByb2Nlc3NDbGFzc1Njb3JlcyIsInByb2plY3REZXRhaWxzTWFwIiwic2l6ZSIsImp1ZGdlU2hlZXROYW1lcyIsImxhdGVzdFByb2plY3RTY29yZXNCeUp1ZGdlIiwianVkZ2VSYW5nZXMiLCJiYXRjaERhdGEiLCJyZXBsYWNlIiwic2NvcmVzRm9ySnVkZ2UiLCJwSWQiLCJwcm9qZWN0QWdncmVnYXRlZFNjb3JlcyIsImRldGFpbHMiLCJlbnRyaWVzIiwiY3JlYXRpdml0eVN1bSIsInNjaWVudGlmaWNUaG91Z2h0U3VtIiwidGVjaG5pY2FsU2tpbGxzU3VtIiwicHJlc2VudGF0aW9uU3VtIiwianVkZ2VDb3VudCIsImFic2VudENvdW50IiwiQXJyYXkiLCJzb3J0IiwianVkZ2VTY29yZXNNYXAiLCJrZXlzIiwiZmlyc3RTY29yZSIsIndhcm4iLCJzY29yZVRhYlJvd3MiLCJwdXNoIiwicHJvamVjdHNGb3JTY29yZVRhYiIsInByb2plY3REYXRhIiwiYXZnQ3JlYXRpdml0eSIsImF2Z1NjaWVudGlmaWNUaG91Z2h0IiwiYXZnVGVjaG5pY2FsU2tpbGxzIiwiYXZnUHJlc2VudGF0aW9uIiwicHJvamVjdEF2Z1Njb3JlIiwiam9pbiIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsInByb2plY3QiLCJ0b0ZpeGVkIiwic2NvcmVTaGVldE5hbWUiLCJjbGVhciIsInVwZGF0ZSIsImdldFRvcFByb2plY3RzIiwic2NvcmVSYW5nZSIsInByb2plY3RzIiwidG9wUHJvamVjdHMiLCJjdXJyZW50UmFuayIsInByb2plY3RzQWRkZWQiLCJpIiwic3RhbmRhcmQiLCJyYW5rIiwidXBkYXRlQWRtaW5TdW1tYXJ5Iiwic3VtbWFyeURhdGEiLCJhZG1pbk1hc3RlclNoZWV0SWQiLCJzdW1tYXJ5U2hlZXROYW1lIiwic3VtbWFyeUhlYWRlciIsInJvd3NUb0FwcGVuZCIsImdldFNwcmVhZHNoZWV0SWQiLCJ1cGRhdGVDbGFzc1NwcmVhZHNoZWV0SWQiLCJuZXdJZCIsImdvb2dsZVNoZWV0c1NlcnZpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/google-sheets.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/googleapis","vendor-chunks/google-auth-library","vendor-chunks/bignumber.js","vendor-chunks/googleapis-common","vendor-chunks/gaxios","vendor-chunks/qs","vendor-chunks/json-bigint","vendor-chunks/gtoken","vendor-chunks/google-logging-utils","vendor-chunks/gcp-metadata","vendor-chunks/object-inspect","vendor-chunks/get-intrinsic","vendor-chunks/jws","vendor-chunks/jwa","vendor-chunks/url-template","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/base64-js","vendor-chunks/side-channel-list","vendor-chunks/extend","vendor-chunks/side-channel-weakmap","vendor-chunks/has-symbols","vendor-chunks/function-bind","vendor-chunks/side-channel-map","vendor-chunks/safe-buffer","vendor-chunks/side-channel","vendor-chunks/get-proto","vendor-chunks/call-bind-apply-helpers","vendor-chunks/buffer-equal-constant-time","vendor-chunks/dunder-proto","vendor-chunks/math-intrinsics","vendor-chunks/call-bound","vendor-chunks/es-errors","vendor-chunks/gopd","vendor-chunks/es-define-property","vendor-chunks/hasown","vendor-chunks/es-object-atoms"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fprojects%2Froute&page=%2Fapi%2Fprojects%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fprojects%2Froute.ts&appDir=C%3A%5CUsers%5Carunm%5CDownloads%5Cjudge-dashboard-nextjs-v29-judgePanelv1%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Carunm%5CDownloads%5Cjudge-dashboard-nextjs-v29-judgePanelv1&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();